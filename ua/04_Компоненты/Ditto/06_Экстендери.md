
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<h3>Ditto: Екстендери </h3> 
Екстендери сніпета Ditto це додаткові розширення які дозволяють вирішувати додаткові завдання.	
<br>
<p>Екстендери - це додаткові розширення, які дозволяють вирішувати додаткові завдання. Всі екстендери Ditto лежать в папці <code>assets/snippets/ditto/extenders/</code>.</p>
<h3 class="sub-header text-bold"><a id="945"></a>dateFilter</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Опис:</span> Призначений для фільтрації документів по даті, може використовуватися разом зі сніпетом Reflect.</p>
<p><span class="text-bold">Параметри:</span> <code>&dateFilterSource</code>, <code>&dateFilterDefault</code>, <code>&month</code>, <code>&year</code>, <code>&day</code></p>
<p><span class="text-bold">Плейсхолдери:</span> <code>[+year+]</code>, <code>[+month+]</code>, <code>[+day+]</code>, <code>[+month_numeric+]</code></p>
<p><span class="text-bold">Приклад:</span></p>
<div class="well">
<div class="slimScroll">
<form id="dateFilterForm" method="get" action="ditto/ekstendery.html">
<div class="row">
<div class="col-sm-3">
<select size="1" name="year" class="form-control">
<option selected value="">-- рік --</option>
<option value="2015" >2015</option>
<option value="2016" >2016</option>
</select>
</div>
<div class="col-sm-3">
<div class="input-group">
<select size="1" name="month" class="form-control">
<option selected value="">-- місяць --</option>
<option value="1" >Січень</option>
<option value="2" >Лютий</option>
<option value="3" >Березень</option>
<option value="4" >Квітень</option>
<option value="5" >Травень</option>
<option value="6" >Червень</option>
<option value="7" >Липень</option>
<option value="8" >Серпень</option>
<option value="9" >Вересень</option>
<option value="10" >Жовтень</option>
<option value="11" >Листопад</option>
<option value="12" >Грудень</option>
</select>
<span class="input-group-btn">
<input type="submit" value="Go" class="btn btn-default shiny">
</span>
</div>
</div>
</div>
</form>
<well>
    <div class="ditto_item" id="ditto_item_216">
        <h3 class="ditto_pageTitle"><a href="ditto/primeneniya.html">Застосування</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> від 19.03.2015</div>
        <div class="ditto_introText">Ditto це потужний інструмент для створення блогу, виведення блоків новин, каталогу товарів, пагінації, показу короткої версії статті, генерування архівів та сортування по заголовку.</div>
    </div>
    <div class="ditto_item" id="ditto_item_217">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry.html">Параметри</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> від 19.03.2015</div>
        <div class="ditto_introText">Параметри сніпета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_218">
        <h3 class="ditto_pageTitle"><a href="ditto/shablony.html">Шаблони</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> від 19.03.2015</div>
        <div class="ditto_introText">Шаблони сніпета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_219">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-paginacii.html">Параметри пагінації</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> від 19.03.2015</div>
        <div class="ditto_introText">Параметри пагінації сніпета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_220">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-summary.html">Параметри summary</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> від 19.03.2015</div>
        <div class="ditto_introText">Параметри summary сніпета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_221">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-datefilter.html">Параметри dateFilter</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> від 19.03.2015</div>
        <div class="ditto_introText">Параметри dateFilter сніпета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_222">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-tagging.html">Параметри tagging</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> від 19.03.2015</div>
        <div class="ditto_introText">Параметри tagging сніпета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_223">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-request.html">Параметри request</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Завдяки екстендерів request сніпет Ditto обробляє значення і виводить результат відповідно до переданих параметрів.</div>
    </div>
    <div class="ditto_item" id="ditto_item_224">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-glossaryfilter.html">Параметри glossaryFilter</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> від 19.03.2015</div>
        <div class="ditto_introText">Параметри glossaryFilter сніпета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_225">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-search.html">Параметри search</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> від 19.03.2015</div>
        <div class="ditto_introText">Параметри search сніпета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_226">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-tvfilter.html">Параметри tvFilter</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> від 19.03.2015</div>
        <div class="ditto_introText">Фільтрація по ТВ параметрам в сніпеті Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_227">
        <h3 class="ditto_pageTitle"><a href="ditto/plejsholdery.html">Плейсхолдери</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> від 19.03.2015</div>
        <div class="ditto_introText">У Дітто є свої власні пдейсхолдери плюс він підтримує змінні (поля), які використовуються в кожному документі.</div>
    </div>
    <div class="ditto_item" id="ditto_item_228">
        <h3 class="ditto_pageTitle"><a href="ditto/primery.html">Приклади</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> від 19.03.2015</div>
        <div class="ditto_introText">Приклади виклику сніпета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_229">
        <h3 class="ditto_pageTitle"><a href="ditto/ekstendery.html">Екстендери</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> від 19.03.2015</div>
        <div class="ditto_introText">Екстендери сніпета Ditto це додаткові розширення які дозволяють вирішувати додаткові завдання.</div>
    </div>

</well>
</div>
</div>
<pre class="brush: html;">
&lt;form id="dateFilterForm" method="get" action="[~[*id*]~]"&gt;
	&lt;select size="1" name="year"&gt;
		&lt;option selected value=""&gt;-- рік --&lt;/option&gt;
		&lt;option value="2015"&gt;2015&lt;/option&gt;
		&lt;option value="2016"&gt;2016&lt;/option&gt;
	&lt;/select&gt;
	&lt;select size="1" name="month"&gt;
		&lt;option selected value=""&gt;-- місяць --&lt;/option&gt;
		&lt;option value="1"&gt;Січень&lt;/option&gt;
		&lt;option value="2"&gt;Лютий&lt;/option&gt;
		&lt;option value="3"&gt;Березень&lt;/option&gt;
		&lt;option value="4"&gt;Квітень&lt;/option&gt;
		&lt;option value="5"&gt;Травень&lt;/option&gt;
		&lt;option value="6"&gt;Червень&lt;/option&gt;
		&lt;option value="7"&gt;Липень&lt;/option&gt;
		&lt;option value="8"&gt;Серпень&lt;/option&gt;
		&lt;option value="9"&gt;Вересень&lt;/option&gt;
		&lt;option value="10"&gt;Жовтень&lt;/option&gt;
		&lt;option value="11"&gt;Листопад&lt;/option&gt;
		&lt;option value="12"&gt;Грудень&lt;/option&gt;
	&lt;/select&gt;
	&lt;input type="submit" value="Ок" name="Submit"&gt;
&lt;/form&gt;
&lt;h3&gt;[+year+] [+month+]&lt;/h3&gt;
[!Ditto? &parents=`163` &extenders=`dateFilter` &dateSource=`createdon`!]
</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`dateFilter`</code> - ім'я використовуваного розширення</li>
<li><code>&dateSource=`createdon`</code> - поле по якому буде відбуватися фільтрація</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="946"></a>request</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Опис:</span> Зміна параметрів Ditto через URL.</p>
<p><span class="text-bold">Параметри:</span> <code>&stripTags</code>, <code>&bad</code>, <code>&good</code></p>
<p><span class="text-bold">Плейсхолдери:</span> ні</p>
<p><span class="text-bold">Приклад:</span></p>
<div class="well">
<div class="slimScroll">
<form action="ditto/ekstendery.html"  method="get">
<p>Сортувати за...</p>
<div class="row">
<div class="col-sm-3">
<div class="input-group">
<select name="ditto_id1_sortDir" class="form-control"> 
<option value="">-- вибрати --</option> 
<option value="ASC">Зростанням</option> 
<option value="DESC">Зменшенням</option> 
</select> 
<span class="input-group-btn">
<input type="submit" value="Go" class="btn btn-default shiny">
</span>
</div>
</div>
</div>
</form>
<h3 class="sub-header text-bold">Результат</h3>
<well>
 Екстендери<br> Шаблони<br> Приклади<br> Застосування<br> Плейсхолдери<br> Параметри Пагінації<br> Параметри tvFilter<br> Параметри tagging<br> Параметри summary<br> Параметри search<br> Параметри request<br> Параметри glossaryFilter<br> Параметри dateFilter<br> Параметри<br>
</well>
</div>
</div>
<pre class="brush: html;">
&lt;form action="[~[*id*]~]" method="get"&gt;
	&lt;p&gt;Сортувати за...&lt;/p&gt;
	&lt;select name="ditto_id1_sortDir"&gt;
		&lt;option value=""&gt;-- вибрати --&lt;/option&gt;
		&lt;option value="ASC"&gt;Зростанням&lt;/option&gt;
		&lt;option value="DESC"&gt;Зменшенням&lt;/option&gt; 
	&lt;/select&gt; 
	&lt;input name="Submit" type="submit" value="Ок"&gt;
&lt;/form&gt;
&lt;h3&gt;Результат&lt;/h3&gt;
[!Ditto? &id=`id1` &parents=`163` &tpl=`@CODE:[+pagetitle+]&lt;br&gt;` &extenders=`request` &sortBy=`pagetitle`!]</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`request`</code> - ім'я використовуваного розширення</li>
<li><code>&sortBy=`pagetitle`</code> - параметр, за яким проводиться сортування</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="947"></a>summary</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Опис:</span> Формування короткого опису і підстановка цього опису в плейсхолдер <code>[+summary+]</code>.</p>
<p><span class="text-bold">Параметри:</span> <code>&truncSplit</code>, <code>&trunc</code>, <code>&truncAt</code>, <code>&truncLen</code>, <code>&truncOffset</code>, <code>&truncText</code>, <code>&tplTrunc</code>.</p>
<p><span class="text-bold">Плейсхолдери:</span> <code>[+summary+]</code>, <code>[+link+]</code></p>
<p><span class="text-bold">Приклад:</span></p>
<p>Вивести анотації до документів, але поле <code>[+introtext+]</code> у документів буде не у всіх. У шаблоні замість плейсхолдера <code>[+introtext+]</code> вставляємо плейсхолдер <code>[+summary+]</code>, а виклик сніпета стане таким:</p>
<pre class="brush: html;">[!Ditto? &tpl=`@CODE:&lt;h3&gt;[+pagetitle+]&lt;/h3&gt;&lt;p&gt;[+summary+]&lt;/p&gt;&lt;p&gt;[+link+]&lt;/p&gt;` &parents=`2` &extenders=`summary` &truncLen=`400` &truncText=`Докладніше...`!]</pre>
<p>де:</p>
<ul>
<li><code>&extenders=`summary`</code> - ім'я використовуваного розширення</li>
<li><code>&truncLen=`400`</code> - максимальна кількість відображуваних символів</li>
<li><code>&truncText=`Докладніше...`</code> - текст посилання на докладний опис</li>	
</ul>
</div>

<h3 class="sub-header text-bold"><a id="948"></a>tagging</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Опис:</span> Фільтрація документів за тегами.</p>
<p><span class="text-bold">Параметри:</span> <code>&tagDocumentID</code>, <code>&tags</code>, <code>&tagMode</code>, <code>&tagDelimiter</code>, <code>&caseSensitive</code>, <code>&tagDisplayDelimiter</code>, <code>&tagSort</code>, <code>&tagData</code>, <code>&tagDisplayMode</code>, <code>&tplTagLinks</code>, <code>&tagCallback</code></p>
<p><span class="text-bold">Плейсхолдери:</span> <code>[+tagLinks+]</code>, <code>[+tags+]</code></p>
<p>Екстендер <code>tagging</code> автоматично підключається при використанні параметра <code>&tagData</code>. Як значення параметра <code>&tagData</code> використовується ім'я TV-параметра з типом введення <code>Text</code>, <code>Radio Options</code> або <code>Check Box</code>. За замовчуванням, роздільником між тегами є пробіл. Змінити роздільник можна за допомогою параметра <code>&tagDelimiter=`, `</code>. Теги відображаються в плейсхолдере <code>[+tagLinks+]</code> у вигляді набору посилань.</p>
<pre class="brush: html;">
[!Ditto?
&parents=`4`
&tagData=`keyw`
&tagDelimiter=`,`
&tagDisplayDelimiter=`, `
&tpl=`@CODE:&lt;h3&gt;[+pagetitle+]&lt;small&gt;[+tagLinks+]&lt;/small&gt;&lt;/h3&gt;`
&tagSort=`0`
&tagDocumentID=`[*id*]`!]
</pre>
<p>де:</p>
<ul>
<li><code>&tagData=`keyw`</code> - поле документа або змінна шаблону, що містить теги</li>
<li><code>&tagDelimiter=`,`</code> - роздільник між тегами</li>
<li><code>&tagDisplayDelimiter=`, `</code> - роздільник між тегами при їх виведенні</li>
<li><code>&tagSort=`0`</code> - відключаємо сортування тегів за алфавітом</li>
<li><code>&tagDocumentID=`[*id*]`</code> - ID документа, де буде виводитися список відфільтрованих документів</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="949"></a>andFilter</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Джерело:</span> /assets/snippets/ditto/extenders/andFilter.extender.inc.php</p>
<pre class="brush: php;">
&lt;?php
// ---------------------------------------------------
// Group: Filters
// The filter works with TV settings that have multiple values, checking for compliance with each
//**************************
// zk – http://nopreset.ru
//**************************
// Example call Ditto:
// [!Ditto? &startID=`42` &tpl=`tpl` &extenders=`andFilter` &andFilterTv=`color:green,red;size:L,XL,XXL` !] 
// – will return documents where all the red and green things the size L, XL and XXL ;)
// ---------------------------------------------------

// If no fieldname value has been supplied, don't do anything else
if ($andFilterTv === false) {
	return false;
}

global $tvsarray;
$tmparray = explode ( ';', $andFilterTv);
foreach ( $tmparray as $tmpvalue ) {
	$tmpexplode = explode ( ':', $tmpvalue );
	$tvsarray[] = $tmpexplode;
	$filtertvs .= (empty($filtertvs)?"":",") . $tmpexplode[0];
}

$filters["custom"]["andFilter"] = array( $filtertvs, "andFilter"); 

if (!function_exists("andFilter")) {
	function andFilter($resource) {
		global $modx,$tvsarray;
		$good = true;
		foreach ( $tvsarray as $tv ) {
			$values = explode( ',', $tv[1] );
			if( array_search($resource[$tv[0]], $values) !== false  ){
				$good = $good && true;
			} else {
				$good = $good && false;
			}
		}
		if ($good) { return 1; } else { return 0; }
	}
}
?&gt;
</pre>
<p>Ще є невеликий код для програмного формування фільтрів, я їх передаю через масив в GET з такими ж назвами як TV-параметри. (Але у Дітто є баг з масивами, так що потрібно або фіксують Дітто, або виправляти на POST):</p>
<pre class="brush: php;">
&lt;?php
//$array_param = array ( 'tv1', 'tv2' .. )
function andFilterTvGet ( $array_param ) {
	foreach ( $array_param as $param ) {
		if (!is_array($_GET[$param])) continue;
		$andfilter .= (empty($andfilter)?"":";") . $param . ':';
		$params = '';
		foreach ($_GET[$param] as $value) {
			$param_g = htmlspecialchars($value);
			if ( !empty($param_g) ) $params .= (empty($params)?"":",") . $param_g; 
		}
		$andfilter .= $params;
	}
	return $andfilter;
}
</pre>
<p><span class="text-bold">Опис:</span> Фільтрація по TV-параметру, що має кілька значень. Перевірка на відповідно кожному значенню.</p>
<p><span class="text-bold">Параметри:</span> <code>&andFilterTv</code>.</p>
<p><span class="text-bold">Плейсхолдери:</span> ні.</p>
<p><span class="text-bold">Приклад:</span> Вивести товари червоного і зеленого кольору, розмірів L, XL і XXL</p>
<pre class="brush: html;">[!Ditto? &tpl=`tpl` &parents=`2` &extenders=`andFilter` &andFilterTv=`color:зелений, червоний;size:L,XL,XXL`!]</pre>
<p>де:</p>
<ul>
<li><code>&extenders=`andFilter`</code> - ім'я використовуваного розширення</li>
<li><code>&andFilterTv=`color:зелений, червоний;size:L,XL,XXL`</code> - параметри, за якими відбувається фільтрація документів.</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="950"></a>countDocs</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Опис:</span> Підрахунок кількості документів.</p>
<p><span class="text-bold">Обов'язкові параметри:</span> ні.</p>
<p><span class="text-bold">Плейсхолдери:</span> <code>[+count+]</code></p>
<p><span class="text-bold">Приклад:</span> Вивести загальну кількість документів в контейнерах 3,4,5:</p>
<pre class="brush: html;">[!Ditto? &tpl=`@CODE:[+count+]` &parents=`3,4,5` &extenders=`countDocs` &display=`1`!]</pre>
<p>де:</p>
<ul>
<li><code>&extenders=`countDocs`</code> - ім'я використовуваного розширення</li>
<li><code>&display=`1`</code> - встановлюємо значення рівне 1, так як нам необхідно вивести тільки один раз.</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="951"></a>distinct</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Джерело:</span> <a rel="nofollow" href="http://modx.com/extras/package/distinctdittoextender" target="_blank">distinct</a></p>
<p><span class="text-bold">Опис:</span> Повертає тільки унікальні результати полів, зазначених в якості значення параметра <code>&distinct=`param1,param2`</code>.</p>
<p><span class="text-bold">Параметри:</span> <code>&distinct</code></p>
<p><span class="text-bold">Плейсхолдери:</span> ні</p>
<p><span class="text-bold">Приклад:</span> отримати тільки унікальні заголовки сторінок для кожної дати.</p>
<pre class="brush: html;">[!Ditto? &parents=`4` &extenders=`distinct` &distinct=`pagetitle,pub_date`!]</pre>
<p>де:</p>
<ul>
<li><code>&extenders=`distinct`</code> - ім'я використовуваного розширення</li>
<li><code>&distinct=`pagetitle,pub_date`</code> - параметри, за якими проводиться фільтрація</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="1142"></a>customsort або nosort</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Джерело:</span> Створити екстендер в <span class="text-bold">assets/snippets/ditto/extenders/</span> з ім'ям customsort.extender.inc.php і наступним вмістом:</p>
<pre class="brush: php;">
&lt;?php
if(!function_exists('customsort')){
	function customsort($a, $b){
		$pos_a=array_search($a['id'],$GLOBALS['documents']);
		$pos_b=array_search($b['id'],$GLOBALS['documents']);
		if($pos_a == $pos_b){
			return 0;
		}
		return($pos_a < $pos_b)?-1:1;
	}
}
$GLOBALS['documents']=explode(',',$documents);
$orderBy["custom"][] = array("id", "customsort");
$ditto->advSort = true;
?&gt;
</pre>
<p><span class="text-bold">Опис:</span> Призначений для користувача порядок сортування документів в параметрі <code>&documents</code>.</p>
<p><span class="text-bold">Параметри:</span> <code>&documents</code></p>
<p><span class="text-bold">Плейсхолдери:</span> ні</p>
<p><span class="text-bold">Приклад:</span> вивести список документів в строго заданому порядку.</p>
<pre class="brush: html;">[!Ditto? &parents=`4` &extenders=`customsort` &documents=`40,46,47,35,36,37,44,41,43,49,48,50,54,53`!]</pre>
<p>де:</p>
<ul>
<li><code>&extenders=`customsort`</code> - ім'я використовуваного розширення</li>
<li><code>&documents=`40,46,47,35,36,37,44,41,43,49,48,50,54,53`</code> - заданий порядок виведення документів</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="1143"></a>glossaryFilter</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Джерело:</span> <a rel="nofollow" href="http://forums.modx.com/thread/18715/pagination-issue" target="_blank">glossaryFilter</a></p>
<p><span class="text-bold">Опис:</span> просунута фільтрація документів.</p>
<p><span class="text-bold">Параметри:</span> <code>&filterVar</code>, <code>&filterMode</code>, <code>&filterBy</code>, <code>&forceUTF8</code></p>
<p><span class="text-bold">Плейсхолдери:</span> ні</p>
<p><span class="text-bold">Приклад:</span> фільтрація документів за першими літерами алфавіту.</p>
<div class="well">
<button class="btn btn-info btn-sm">A</button> 
<button class="btn btn-info btn-sm">B</button> 
<button class="btn btn-info btn-sm">C</button> 
<button class="btn btn-info btn-sm">D</button> 
<button class="btn btn-info btn-sm">E</button> 
<button class="btn btn-info btn-sm">F</button> 
<button class="btn btn-info btn-sm">G</button> 
<button class="btn btn-info btn-sm">H</button> 
<button class="btn btn-info btn-sm">I</button> 
<button class="btn btn-info btn-sm">J</button> 
<button class="btn btn-info btn-sm">K</button> 
<button class="btn btn-info btn-sm">L</button> 
<button class="btn btn-info btn-sm">M</button> 
<button class="btn btn-info btn-sm">N</button> 
<button class="btn btn-info btn-sm">O</button> 
<button class="btn btn-info btn-sm">P</button> 
<button class="btn btn-info btn-sm">Q</button> 
<button class="btn btn-info btn-sm">R</button> 
<button class="btn btn-info btn-sm">S</button> 
<button class="btn btn-info btn-sm">T</button> 
<button class="btn btn-info btn-sm">U</button> 
<button class="btn btn-info btn-sm">V</button> 
<button class="btn btn-info btn-sm">W</button> 
<button class="btn btn-info btn-sm">X</button> 
<button class="btn btn-info btn-sm">Y</button> 
<button class="btn btn-info btn-sm">Z</button> 
<button class="btn btn-info btn-sm">0-9</button> 
<button class="btn btn-info btn-sm">Все</button> 
<button class="btn btn-info btn-sm" type="submit" name="clear">Очистити</button>
</div>
<pre class="brush: php;">
&lt;?php
$allowed_req = array(
	# 'label-for-button-or-link' =&gt; 'actual-value-for-regex-clause',
	'A' =&gt; 'A',
	'B' =&gt; 'B',
	'C' =&gt; 'C',
	'D' =&gt; 'D',
	'E' =&gt; 'E',
	'F' =&gt; 'F',
	'G' =&gt; 'G',
	'H' =&gt; 'H',
	'I' =&gt; 'I',
	'J' =&gt; 'J',
	'K' =&gt; 'K',
	'L' =&gt; 'L',
	'M' =&gt; 'M',
	'N' =&gt; 'N',
	'O' =&gt; 'O',
	'P' =&gt; 'P',
	'Q' =&gt; 'Q',
	'R' =&gt; 'R',
	'S' =&gt; 'S',
	'T' =&gt; 'T',
	'U' =&gt; 'U',
	'V' =&gt; 'V',
	'W' =&gt; 'W',
	'X' =&gt; 'X',
	'Y' =&gt; 'Y',
	'Z' =&gt; 'Z',
	'0-9' =&gt; '0|1|2|3|4|5|6|7|8|9', 
	'Все' =&gt; 'A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z',
);
$cur_filter = isset($_POST['filter']) && isset($allowed_req[$_POST['filter']]) && $allowed_req[$_POST['filter']] ? $allowed_req[$_POST['filter']] : '';
$index = '&lt;form method="post" action="ditto/ekstendery"&gt;';

foreach ($allowed_req as $label =&gt; $request){
	if ($request) {
		$index .= '&lt;input type="submit" name="filter" value="' . $label . '"' . ($request == $cur_filter ? ' disabled' : '') . '&gt;' . ' ';
	}
}

$index .= '&lt;input type="submit" name="clear" value="Очистити"&gt;&lt;/form&gt;';

$params['parents']='4';
$params['orderBy']='pagetitle ASC';
$params['filterVar']='pagetitle';
$params['filterBy']= $cur_filter;
$params['depth']='1';
$params['extenders']='glossaryFilter';

$custom_filter = $modx-&gt;runSnippet('Ditto',$params);
return $index . ($cur_filter ? $custom_filter : '');
?&gt;
</pre>
</div>

<h3 class="sub-header text-bold"><a id="1150"></a>jotcount</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Опис:</span> кількість коментарів Jot до певної сторінці в шаблоні Ditto.</p>
<p><span class="text-bold">Параметри:</span> ні</p>
<p><span class="text-bold">Плейсхолдери:</span> <code>[+jotcount+]</code></p>
<p><span class="text-bold">Приклад:</span> вивести кількість коментарів.</p>
<pre class="brush: html;">[!Ditto? &parents=`4` &extenders=`jotcount` &tpl=`@CODE:&lt;h3&gt;[+pagetitle+] &lt;small&gt;[+jotcount+]&lt;/small&gt;&lt;/h3&gt;`!]</pre>
<p>де:</p>
<ul>
<li><code>&extenders=`jotcount`</code> - ім'я використовуваного розширення</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="1151"></a>jotdatesort</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Опис:</span> інформація про коментарі Jot до певної сторінці в шаблоні Ditto.</p>
<p><span class="text-bold">Параметри:</span> <code>&jotfilter</code>, <code>&jotauthorfield</code></p>
<p><span class="text-bold">Плейсхолдери:</span> <code>[+jotcount+]</code>, <code>[+jotlastdate+]</code>, <code>[+jotlastauthor+]</code></p>
<p><span class="text-bold">Приклад:</span> вивести кількість коментарів.</p>
<pre class="brush: html;">
[!Ditto?
&parents=`4`
&extenders=`jotdatesort`
&tpl=`@CODE:&lt;h3&gt;&lt;a href="[~[+id+]~]"&gt;[+title+]&lt;/a&gt;&lt;/h3&gt;Кількість коментарів: [+jotcount+]&lt;br /&gt;Автор коментаря: [+jotlastauthor+]&lt;br /&gt;Дата останнього коментаря: [+jotlastdate:date=`%d.%m.%Y, %H:%M:%S`+]&lt;br /&gt;Дата поста: [+date+]&lt;br /&gt;Автор поста: [+author+]`
&jotfilter=`1`
&jotauthorfield=`Гість`!]
</pre>
<p>де:</p>
<ul>
<li><code>&extenders=`jotdatesort`</code> - ім'я використовуваного розширення</li>
<li><code>&jotfilter=`1`</code> - не виводити без коментарів</li>
<li><code>&extenders=`jotdatesort`</code> - ім'я автора коментаря (гостя)</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="1152"></a>level</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Опис:</span> висновок документів певного рівня.</p>
<p><span class="text-bold">Параметри:</span> <code>&level</code></p>
<p><span class="text-bold">Плейсхолдери:</span> ні</p>
<p><span class="text-bold">Приклад:</span> вивести кількість коментарів.</p>
<pre class="brush: html;">[!Ditto? &parents=`4` &extenders=`level` &depth=`3` &level=`3`!]</pre>
<p>де:</p>
<ul>
<li><code>&extenders=`level`</code> - ім'я використовуваного розширення</li>
<li><code>&depth=`3`</code> - глибина сканування</li>
<li><code>&level=`3`</code> - вивести документи 3-го рівня</li>
</ul>
</div>
<h3 class="sub-header text-bold"><a id="1153"></a>search</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Опис:</span> пошук на Ditto.</p>
<p><span class="text-bold">Параметри:</span> <code>&searchFields</code>, <code>&searchOptions</code>, <code>&searchString</code>, <code>&searchOptionsSeparators</code></p>
<p><span class="text-bold">Плейсхолдери:</span> ні</p>
<p><span class="text-bold">Приклад:</span></p>
<pre class="brush: html;">[!Ditto? &parents=`4` &extenders=`search` &searchString=`my search string` &searchFields=`content,tv1,tv2` &searchOptions=`caseSensitive` ...`!]</pre>
<p>де:</p>
<ul>
<li><code>&extenders=`search`</code> - ім'я використовуваного розширення</li>
<li><code>&searchString=`my search string`</code> - пошуковий запит</li>
<li><code>&searchFields=`content,tv1,tv2`</code> - поля і змінні шаблону, за якими відбувається пошук</li>
<li><code>&searchOptions=`caseSensitive`</code> - проводити пошук з урахуванням регістру</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="1159"></a>tvFilter</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Опис:</span> фільтрація документів по заданим TV.</p>
<p><span class="text-bold">Параметри:</span> <code>&tvFilterBy</code>, <code>&tvFilterMode</code></p>
<p><span class="text-bold">Плейсхолдери:</span> ні</p>
<p><span class="text-bold">Приклад:</span> показати всі дочірні документи контейнерів 3, 4 і 5, до яких прив'язаний TV-параметр dummy.</p>
<pre class="brush: html;">[!Ditto? &parents=`3,4,5` &extenders=`tvFilter` &tvFilerBy=`dummy` &tvFilterMode=`0`!]</pre>
<p>де:</p>
<ul>
<li><code>&extenders=`tvFilter`</code> - ім'я використовуваного розширення</li>
<li><code>&tvFilerBy=`dummy`</code> - ім'я TV-параметра, за яким відбувається фільтрація</li>
<li><code>&tvFilterMode=`0`</code> - виключити документи, до яких НЕ прив'язаний TV-параметр dummy</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="1195"></a>multiTvFilter</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Опис:</span> фільтрація рядків змінної шаблону multiTv.</p>
<p><span class="text-bold">Параметри:</span> <code>&multiTvFilterBy</code>, <code>&multiTvFilterOptions</code></p>
<p><span class="text-bold">Плейсхолдери:</span> ні</p>
<p><span class="text-bold">Приклад:</span> показати всі дочірні документи контейнерів 3, 4 і 5, у яких змінна шаблону multiTv <code>event</code> в стовпці <code>title</code> не містить <code>Important</code>.</p>
<pre class="brush: html;">
[!Ditto?
&parents=`3,4,5`
&extenders=`@FILE assets/tvs/multitv/dittoExtender/multitvfilter.extender.inc.php`
&multiTvFilterOptions=`[{"name":"title","type":"text","value":"Important","mode":"contains"}]`!]
</pre>
<p>де:</p>
<ul>
<li><code>&extenders=`@FILE assets/tvs/multitv/dittoExtender/multitvfilter.extender.inc.php`</code> - ім'я використовуваного розширення</li>
<li><code>&multiTvFilterBy=`event`</code> - ім'я змінної шаблону multiTv, по якій відбувається фільтрація</li>
<li><code>&multiTvFilterOptions=`[{"name":"title","type":"text","value":"Important","mode":"contains"}]`</code> - виключити елементи, у яких в стовпці <code>title</code> не міститься <code>Important</code></li>
</ul>
</div>
