##Генерація прев'ю при загрузці

Реалізуєтся за допомогою [системи плагінів](http://modx.im/blog/docs/3006.html). В загальних рисах, плагін повинен обробляти подію при загрузці зображення, при видаленні зображення і при оновлені зобраення. Це дозволяє позбутися від використання сніппету phpthumb при виведенні зображень, що прискорює вивід і не засорює кеш.

В комплекті для прикладу присутній плагін sgThumb. Для його роботи необхідно відмітити події OnFileBrowserUpload, OnSimpleGalleryDelete і OnSimpleGalleryRefresh, після створити налаштування 
```
&tconfig=Thumbnails Configuration;textarea;
```

и додати в неї список описів прев'ю в форматі json:
```
[
{"template":3,"options":"w=320&h=200&zc=1","folder":"thumb"},
{"template":6,"options":"w=384&h=384&far=C&bg=000000","folder":"384x384"},
{"rid":9,"options":"w=500&h=500&zc=C&bg=000000","folder":"500x500"},
{"template":6,"options":"w=500&h=500&zc=C&bg=000000","folder":"500x500"}
]
```

Кожне правило описуєтся массивом:
```
{"template":id_шаблона,"options":"параметри_phpthumb","folder":"ім'я_папки"}
```
або:
```
{"rid":id_документа,"options":"параметри_phpthumb","folder":"ім'я_папки"}
```

В прикладі буде створюватися зображення 320x320 для шаблону 3, зображення 500х500 для документу 9 і два зображення для шаблона 6: 384x384 і 500x500.

При виведенні потрібно використовувати сніппет, який отримує адресу зображення в параметрі input і якесь значення для отримання посилання на прев'ю (для сніппета sgThumb це ім'я папки з налаштувань плагіна sgThumb) - в параметрі options. Сніппет повинен повернути посилання на прев'ю.
