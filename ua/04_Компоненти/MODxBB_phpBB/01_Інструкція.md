<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<h3>MODxBB и phpBB: Інструкція </h3> 
Посібник зі встановлення та налаштування конфігурації MODxBB.	
<br>
<h2 class="page-header">Посібник зі встановлення та налаштування конфігурації MODxBB</h2>
<p>Ласкаво просимо до документації MODxBB. Ця документація включена до пакету MODxBB, також ви можете ознайомитися з нею в Інтернеті на сайті <a rel="nofollow" title="MODxBB.net/documentation" href="http://modxbb.net/documentation">modxbb.net/documentation</a></p>
<p>Даний посібник пов'язаний із змістом на правій стороні, так само там є інформація про дату створення та останню модифікацію для кожної сторінки. Ця інформація дозволяє швидко перевірити, коли сторінку було оновлено. Крім того, я створив файл CSS для виведення на друк, який повинен стати в нагоді тим, хто воліє читати документацію на папері.</p>
<h2 class="page-header">1. Документація MODxBB</h2>
<h2 class="page-header">1.1 MODxBB</h2>
<p>MODxBB інтегрує MODX і PhpBB один в одного при збереженні масштабованості</p>
<p>MODX є системою керування контентом, що високо налаштовується, яка також може бути використана як основа для керування контентом</p>
<p>PhpBB це дуже потужна система управління веб-форумами, яка широко використовується як комунікаційна платформа, однак, вона має значний потенціал</p>
<p>Адміністратори, які хотіли б використовувати MODX PhpBB стикаються з проблемою, що користувачам доведеться двічі реєструватися та підтримувати два облікові записи для одного сайту. Одна з головних цілей MODxBB полягає у вирішенні цієї проблеми шляхом інтеграції обох систем одна в одну</p>
<p>Це набагато більше, ніж просто міст для облікових записів користувачів. Використовуючи MODxBB, розробник може отримати доступ до обох інтерфейсів на будь-якій PhpBB сторінці, а також на будь-якій сторінці MODX <br>Докладніше про MODxBB та його особливості можна прочитати у статті <a rel="nofollow" href="http://www.modxbb.net/index.php?id=48" target="_blank">Ласкаво просимо в MODxBB</a> на <a rel="nofollow" href="http://modxbb.net/" target="_blank">modxbb.net</a>.</p>
<h2 class="page-header">1.2 Про цю докоментацію</h2>
<p>Цей документ вийшов набагато докладнішим, ніж спочатку планувалося. Він призначений для ознайомлення навіть недосвідченими користувачами, однак, необхідно відзначити, що чим глибші ваші знання про (X) HTML, CSS та PHP, тим більше ви можете отримати від використання MODxBB</p>
<p>У цьому посібнику розглядаються всі можливі типи установки, отже, вам не потрібно все це вивчати. Додаткові розділи починаються з повідомлення про те, коли вони потрібні для читання</p>
<p>Незважаючи на не дуже просте встановлення та налаштування, після встановлення у вас не повинно виникнути проблем у використанні MODxBB. У майбутніх версіях планується створити інтерфейс для спрощення встановлення та налаштування.</p>
<h2 class="page-header">1.3 Додаткові підручники</h2>
<p>Докладніші посібники, поради та приклади з різних тем будуть додаватися на блог<a href="http://modxbb.net/" target="_blank">modxbb.net</a> пізніше.</p>
<h2 class="page-header">2. Встановлення</h2>
<h2 class="page-header">2.1 Вимоги до встановлення</h2>
<ul>
	<li>MODX Evolution 1.0.0 - 1.0.15 рекомендується: <a rel="nofollow" title="MODX Evolution download" href="http://modx.com/evolution/download/">1.0.7</a></li>
	<li>phpBB 3.0.4 - 3.0.11 • рекомендуєтся: <a rel="nofollow" title="phpBB download" href="http://www.phpbb.com/downloads">3.0.11</a></li>
	<li>MODxBB 0.9.5 (входить до комплекту постачання)</li>
	<li>Веб-сервер для работи phpBB и MODX.</li>
</ul>
<h2 class="page-header">2.2 Встановлення MODX</h2>
<p>УВстановіть MODX Evolution. Якщо така установка вже існує, рекомендується оновити до останньої версії, якщо ви ще не зробили цього. На сторінці <a rel="nofollow" href="http://modx.com/evolution/download/" target="_blank">завантаження MODX</a> ви можете дізнатися, яка версія є останньою та завантажити її за потреби </p>
<p>У процесі встановлення ви повинні поставити сайт в "Оффлайн" режим: Інструменти -&gt; Конфігурація -&gt; Статус сайту виберіть 'Оффлайн'.</p>
<h2 class="page-header">2.3 Встановлення phpBB</h2>
<p>Створіть у корені вашого сайту папку 'forum' (форум може бути встановлений у будь-яку папку, але папка 'forum' рекомендується). Якщо у вас уже встановлено phpBB, відвідайте сторінку завантаження PhpBB</a>, щоб переконатися, що у вас остання версія.</p>
<p>Настійно рекомендується розташувати папку 'forum' у корені сайту. Встановлення форуму в іншу папку має виконуватися лише досвідченими користувачами. Якщо ви хочете, щоб ваш форум був інтегрований у шаблон сайту, як це зроблено на <a rel="nofollow" href="http://modxbb.net/forum" target="_blank">MODxBB.net</a> Вам необхідно налаштувати основні шаблони phpBB (overall_header і overall_footer). Про те, як це робиться, докладно описано у відповідній гілці форуму <a rel="nofollow" href="http://www.phpbb.com/community/viewtopic.php?f=74&amp;t=963325" target=" _blank">phpBB.com</a>.</p>
<p><span class="text-bold">ПОРАДА:</span> Деякі браузери мають корисні інструменти (Firebug у Firefox або DragonFly в Opera), що може вам стати в нагоді при оформленні стилю вашого форуму, тому що вони полегшують роботу з CSS. Я також рекомендую безкоштовну утиліту <a rel="nofollow" title="Colour To HTML" href="http://www.matthewhipkin.co.uk/colourtohtml.php">Colour To HTML</a> , оскільки вона економить масу часу при доборі необхідного кольору, яку потрібно змінити на інший. (Color-picker -&gt; find in CSS)</p>
<p>Ще одна порада, яка може заощадити вам багато часу: overall_header.html та overall_footer.html разом узяті є повною HTML-сторінкою. Ви можете їх об'єднати (наприклад, у редакторі) для редагування та розділити знову, після того, як закінчите редагування.</p>
<p>Вставка PhpBB шаблону як частина шаблону або документа MODX, до речі, теоретично можлива, але не розумна.</p>
<h2 class="page-header">2.4 Встановлення MODxBB</h2>
<p><span class="text-bold">ПРИМІТКА:</span> function_user.php MODXBB, що входить до пакету, містить виправлення помилки в рядку 2186, яке вирішує питання про аватарів галереї, які не сортуються належним чином. Я додав це разом із можливістю MODxBB використовувати аватари галереї.</p>
<h2 class="page-header">2.4.1 Резервне копіювання</h2>
<p><span class="text-bold"><span style="color: #ff0000;">ВАЖЛИВО:</span></span> Зробіть резервне копіювання всіх файлів, які будуть замінені або відредаговані. Щоб дізнатися, які файли були змінені при повній установці MODxBB, читайте сторінку <span style="text-decoration: underline;">Список файлів</span> або перегляньте папку "Documents", включаючи підпапки.</p>
<p>За бажанням ви можете зробити копію всього сайту, але це не обов'язково. Файли, які будуть перезаписані (швидке встановлення) або відредаговані (вибіркова установка), можна знайти в папці Documents в архіві MODxBB.</p>
<h2 class="page-header">2.4.2 Мінімальна установка</h2>
<p>Якщо все, що ви хочете, це вивести чанки та сніпети на вашому форумі, просто скопіюйте файл modxapi.php (що входить до комплекту MODxBB) у корінь вашого сайту, та переходьте до розділу 2.4.6.</p>
<h2 class="page-header">2.4.3 Швидке встановлення</h2>
<p>Є три вимоги до швидкого встановлення:</p>
<ul>
	<li>1. PhpBB 3.0.11</li>
	<li>2. MODX 1.0.7 Evo </li>
	<li>3. Жоден з файлів, які будуть замінені, не були змінені користувачем до цієї установки (якщо ви не хочете втрати внесених змін).</li>
</ul>
<p><span class="text-bold"><span style="color: #ff0000;">НЕ ЗАБУДЬТЕ ПРО РЕЗЕРВНОЕ КОПИРОВАНИЕ!</span></span></p>
<p>Просто скопіюйте файли з папки MODxBB\Documents у корінь вашого сайту, зберігши структуру папок.</p>
<p><span class="text-bold">ПРИМІТКА:</span> Це передбачає, що ваша папка форуму називається "forum". Крім того, якщо ви не хочете налаштувати стиль JOT у стилі MODxBB, пропустіть папку JOT.</p>
<h2 class="page-header">2.4.4 Вибіркова установка</h2>
<p>Вибіркова установка потрібна, якщо ви використовуєте застарілу версію PhpBB або MODX, або модифіковану версію, яку ви хочете зберегти або просто хочете знати, що було відредаговано під час встановлення.</p>
<p>Я відмовився від мого початкового плану показати всі зміни, що вносяться, назвавши номери рядків, тому що є ризик вас заплутати. Залежно від версії та кількості модифікацій доданих користувачами, відмінності у змінах можуть бути занадто великими.</p>
<p>Замість цього ми будемо використовувати більш безпечний та зрозумілий спосіб: Відвідаємо <a rel="nofollow" href="http://www.modxbb.net/index.php?id=55" target="_blank"> сторінку WinMerge</a> та завантажуємо останню версію WinMerge. Це чудова безкоштовна програма, яка може порівнювати файли та показувати їх відмінності. Linux та Mac користувачі можуть знайти альтернативи в цій статті</a>.</p>
<p>Все, що потрібно зробити зараз, це порівняти файли в папці "Original" з файлами в папці "Documents". Зверніть увагу на відмінності та їх розташування у файлі. Не покладайтесь на номер рядка! Натомість перевірте рядки до та після змін та увімкніть їх у тому ж місці файлу на вашому веб-сервері.</p>
<p><span class="text-bold">Приклад: </span></p>
<p>Після встановлення, запустіть WinMerge та виберіть у меню Файл -&gt; Відкрити, щоб додати файл index.php знаходиться в папці "Documents", а також файл, який розташований у папці "Original", які можна знайти в архіві MODxBB. Тепер скачайте index.php вашого сайту і увімкніть у нього відмінності двох інших файлів, які показав WinMerge (не забудьте про резервні копії ваших файлів!). Коли закінчите, завантажте відредагований та збережений файл index.php у корінь вашого сайту. Зробіть те саме з іншими файлами.</p>
<h2 class="page-header">2.4.5 Установлення елементів [сніпети, плагін]</h2>
<p> Установка MODxBB елементів не є обов'язковою. Ви можете встановити їх усі або тільки частину. Ви можете пропустити цей розділ, якщо ці елементи не потрібні. У наступній таблиці перелічені всі включені до комплекту MODxBB елементи:</p>
<div class="flip-scroll">
	<table class="table table-bordered table-vcenter flip-content">
		<thead class="flip-content bordered-palegreen">
			<tr><th>Назва</th><th>Тип</th><th>Опис</th></tr>
		</thead>
		<tbody>
			<tr>
				<td>LatestTopicsBB</td>
				<td>сніпет</td>
				<td>Відображає останні активні теми форуму</td>
			</tr>
			<tr>
				<td>LoginBB</td>
				<td>сніпет</td>
				<td>Реєстрація в MODxBB та профіль авторизованого користувача</td>
			</tr>
			<tr>
				<td>OnlineListBB</td>
				<td>сніпет</td>
				<td>Показує, хто знаходиться на сайті</td>
			</tr>
			<tr>
				<td>PrevPollsBB</td>
				<td>сніпет</td>
				<td>Відображає історію опитувань</td>
			</tr>
			<tr>
				<td>SitePollBB</td>
				<td>сніпет</td>
				<td>Виводить PhpBB опитування на будь-якій сторінці сайту</td>
			</tr>
			<tr>
				<td>PluginBB</td>
				<td>плагін</td>
				<td>
					<p>Зв'язує профілі користувачів PhpBB із профілями веб-користувачів MODX</p>
				</td>
			</tr>
		</tbody>
	</table>
</div>
<p>Детальніший опис, включаючи скріншоти, можна знайти на <a rel="nofollow" href="http://modxbb.net/" target="_blank">MODxBB.net</a></p>
<p>Для установки будь-який з наведених вище cybggtnjd, увійдіть у ваш менеджер MODX, перейдіть за посиланням: Елементи -&gt; Управління Елементами -&gt; Сніппети та натисніть кнопку "Новий Сніппет". Назва така сама, як ім'я файлу або як у наведеному вище списку. Для опису введіть <span class="text-bold">0.9.5</span>, а потім введіть опис з таблиці вище. Опис допоможе розпізнати фрагмент, номери версії потрібні на відміну від можливих майбутніх версій</p>
<p>Тепер вставте вміст відповідного файлу в код сніпета, файли знаходяться в папці "Elements" у пакеті MODxBB. Не забудьте зберегти сніпет!</p>
<p>Для встановлення плагіна PluginBB перейдіть в Елементи -&gt; Управління Елементами -&gt; Плагіни та натисніть кнопку "Новий плагін"</p>
<p>Задайте назву, опис та код як у прикладі вище.<br>Тепер натисніть на "Системні події" та активуйте прапорці "OnUserFormRenter" та "OnWUsrFormRender". Збережіть плагін.</p>
<h2 class="page-header">2.4.6 Настройка шаблонів phpBB</h2>
<p>Той, хто хоче розробити свій стиль форуму, налаштувавши дизайн відповідно до дизайну сайту, повинен пройти кроки, описані в розділі 2.3</p>
<p>Наступний крок необхідний лише тим, хто хоче розмістити MODX елементи (сніпети, чанки) або повідомлення про помилки MODX на форумі. Якщо це не потрібно, ви можете перейти до розділу 3. Конфігурація</p>
<p>По-перше, відкрийте файл overall_header.html. Це може бути зроблено в PhpBB адміністраторської панелі управління (Загальні -&gt; Стилі -&gt; Шаблони), або шляхом пошуку файлів у папці forum\styles\ВашаТема\template (за умови, що форум знаходиться в папці "forum" і у вас встановлена необхідна тема). Потім додайте наступні рядки на початку цього файлу:</p>
<pre class="brush: php;">&lt;?php
	if (!defined('ADMIN_START')){
		require_once($phpbb_root_path . '../modxapi.php');
	}
	else {
		require_once($phpbb_root_path . '../../modxapi.php');
	}

	global $modx;
	$modx = new MODxAPI();
	$modx-&gt;connect();
	$modx-&gt;getSettings();
?&gt;</pre>
<p>Наступний крок необхідний тільки якщо ви хочете відображати повідомлення про помилку MODX на форумі PhpBB.</p>
<p>Додайте такі рядки в нижній частині шаблону:</p>
<pre class="brush: php;">&lt;?php
	$MODx_output = '';
	global $MODx_output;
	if ($MODx_output) {
		echo $MODx_output;
	}
?&gt;</pre>
<p>Тепер знайдіть файл overall_footer.html (перебуває в тій же папці) і додайте наступні рядки у верхній частині:</p>
<pre class="brush: php;">&lt;?php
	global $modx;
?&gt;</pre>
<h2 class="page-header">3. Конфігурація</h2>
<h2 class="page-header">3.1 Налаштування MODX</h2>
<p>Якщо ви зробили мінімальну установку, ви можете перейти до розділу <a title="chapter 3.1.4" href="#c3-1-4">3.1.4</a>.</p>
<h2 class="page-header">3.1.1 Вимкніть WebLogin</h2>
<p>Ви повинні позбутися реєстраційної форми WebLogin якщо вона у вас використовується, тому що PhpBB піклується про реєстрацію користувачів і передає дані користувача в MODX. Для забезпечення авторизації та реєстрації на ваших сторінках MODX використовуйте сніпет LoginBB, який включений у пакет MODxBB.</p>
<h2 class="page-header">3.1.2 Додайте нове поле для Jot до таблиці MODX</h2>
<p>Це необхідно, якщо ви хочете налаштувати JOT у стилі MODxBB, як показано на головній сторінці та на форумі MODX</p>
<p>Увійдіть у свій PhpMyAdmin, виберіть базу даних MODX і натисніть на modx_web_user_attributes (у вас може бути інший префікс, не modx_). Тепер натисніть на "Структура" (верхній рядок), перейдіть до рядка "Додати" (залежно від теми PhpMyAdmin вона може бути також у верхній частині). Додайте 1 поле, клацніть перемикач "Наприкінці таблиці" натисніть ОК</p>
<p>Тепер введіть такі значення:</p>
<div><span class="text-bold">Поле:</span> postcount</div>
<div><span class="text-bold">Тип:</span> Int (11)</div>
<div><span class="text-bold">За замовчуванням:</span> 0 [вибрати "Як визначено:" зі списку, що випадає]</div>
<div><span class="text-bold">Коментарі:</span> jot comments</div>
<p>Натисніть кнопку Зберегти.</p>
<h2 class="page-header">3.1.3 Виберіть аватар за умовчанням для гостя в Jot</h2>
<p>Те ж саме застосовується і тут: Це тільки необхідно, якщо ви хочете використовувати Jot в стилі MODxBB</p>
<p>Відкрийте chunk.comment.inc.html у папці jot\templates (той, який ви завантажили раніше) і замініть <span class="text-bold">assets/images/YourDefaultAvatar.png</span> у рядку 8 на URL до аватару за замовчуванням, та <span class="text-bold">assets/images/YourGuestAvatar.png</span> у рядку 10 на URL до аватара за умовчанням для гостей</p>
<p>Ви можете завантажувати аватари в папку assets або зберігати їх в іншому місці, однак, щоб зберегти узгодженість, я рекомендую додати аватар групі для гостей (анонімних користувачів) та для групи зареєстрованих користувачів у PhpBB і використовувати їх</p>
<p>Ви можете зробити це в адміністраторі PhpBB (ACP) -&gt; Користувачі та групи -&gt; Управління групами - -&gt; Налаштування.</p>
<h2 id="c3-1-4">3.1.4 Додати посилання на форум</h2>
<p>Щоб показати посилання на Ваш форум у списках, створених сніпетом Wayfinder і т.д. (наприклад у карті сайту), Ви повинні створити веб-посилання на ваш форум. Це може бути зроблено у менеджері MODX. Для отримання додаткової інформації про створення веб-посилання читайте документацію MODX або запитуйте на форумі.</p>
<h2 class="page-header">3.2 Конфігурація phpBB</h2>
<h2 class="page-header">3.2.1 Увімкніть PHP у шаблонах</h2>
<p>Це необхідно тільки, якщо ви хочете показати елементи MODX або повідомлення про помилки на вашому форумі, інакше переходьте до розділу 3.2.2.</p>
<p>Увійдіть в адміністраторську панель (АСР) PhpBB і натисніть кнопку "Безпека" в "Конфігурація сервера" на вкладці Загальні. Перейдіть до "Дозволити PHP у шаблонах:" і виберіть "Так". Натисніть кнопку Надіслати. Цей крок необхідний для обробки команд MODX, які були додані до шаблону PhpBB.</p>
<p><span class="text-bold"><span style="color: #ff0000;">УВАГА:</span></span> Не завантажуйте та не запускайте ненадійні PhpBB теми в той час, коли цей параметр увімкнено! Ви повинні завантажити теми лише з phpBB.com або з інших надійних джерел.</p>
<h2 class="page-header">3.2.2 Прибрати прив'язку форм до гостьових сесій</h2>
<p>Цей крок необхідний тільки якщо ви хочете, щоб гості мали змогу проголосувати на ваших сторінках MODX під час використання сніпету SitePollBB</p>
<p>Ідіть на ту ж сторінку, як у 3.2.1 (ACP -&gt; Загальні -&gt; Конфігурація сервера -&gt; Безпека) і знайдіть пункт "Прив'язати форми до гостьових сесіях:" (має бути внизу). Змініть значення на "Ні" та натисніть кнопку Надіслати.</p>
<h2 class="page-header">3.2.3 Перекомпілювати старі шаблони</h2>
<p>Цей крок необхідний, якщо ви плануєте додати чанки або сніпети до PhpBB. Це гарантує, що ваш форум розпізнає та відобразить візуальні зміни, зроблені вашими елементами MODX на форумі</p>
<p>Увійдіть до свого phpBB АСР. На вкладці Загальні перейдіть до вкладки "Конфігурація сервера" і натисніть "Навантаження на сервер". Тепер потрібно знайти "Перекомпілювати старі шаблони:" змініть на "Так" і натисніть кнопку Надіслати.</p>
<h2 class="page-header">3.2.4 Додавання елементів MODX до шаблону PhpBB</h2>
<p>Тепер ви можете додавати команди для запуску MODX елементів (чанки, сніпети) на форумі. Вони можуть бути додані в будь-який із шаблонів, які ми редагували в розділі 2.4.6 або будь-який інший шаблон, який належить цій же темі, проте я рекомендую додати їх у нижній частині overall_header.html</p>
<p>Це ефективний спосіб показу оголошень на вашому форумі (але особисто я не люблю оголошення на форумах), як на MODxBB.net або ще щось, що Ви хочете, щоб ваші читачі форуму побачили. Приклади: Щоб запустити чанк MODX, який відображає оголошення на вашому форумі, відкрийте overall_header.html розташований у папці forum\styles\ВашаТема\template і додайте наступні рядки в нижній частині шаблону між тегами PHP, які ми додавали в розділі 2.4.6 : </p>
<pre class="brush: php;">echo $modx-&gt;getChunk('Announcement');</pre>
<p>Де 'Announcement' ім'я вашого чанка.</p>
<p>Якщо ви додавали шаблон рядка для виведення помилок MODX, це буде виглядати так:</p>
<pre class="brush: php;">&lt;?php
	echo $modx-&gt;getChunk('Announcement');
	$MODx_output = '';
	global $MODx_output;
	if ($MODx_output){
		echo $MODx_output;
	}
?&gt;</pre>
<p>або так:</p>
<pre class="brush: php;">&lt;?php
	echo $modx-&gt;getChunk('Announcement');
?&gt;</pre>
<p>Ви можете також додати це будь-де в межах шаблону або в будь-якому іншому шаблоні.</p>
<p>Щоб вставити сніпет, використовуйте:</p>
<pre class="brush: php;">echo $modx-&gt;runSnippet('SomeSnippet');</pre>
<p>Якщо сніпет має параметри, ми зробимо так:</p>
<pre class="brush: php;">echo $modx-&gt;runSnippet("MySnippet", array('column'=&gt;'3', 'tpl'=&gt;'MyTemplate')</pre>
<p>Де 'column' і 'tpl' - параметри, а '3' і 'MyTemplate' - значення.</p>
<p>Для наочності ви можете створити масив:</p>
<pre class="brush: php;">$parameters['column']=3;
$parameters['tpl']=MyTemplate;
echo $modx-&gt;runSnippet('snippet_name', $parameters);</pre>
<p>При розміщенні у шаблоні, не забувайте PHP теги:</p>
<pre class="brush: php;">&lt;?php
	$parameters['column']=3;
	$parameters['tpl']=MyTemplate;
	echo $modx-&gt;runSnippet('snippet_name', $parameters);
?&gt;</pre>
<h2 class="page-header">3.3 Конфігурація елементів MODxBB</h2>
<p>Для установки сніппетів, відкрийте його та змініть змінні в розділі конфігурації. У пізніших версіях ви зможете передавати параметри в сніпет.</p>
<h2 class="page-header">3.3.1 LatestTopicsBB</h2>
<p>Є три змінні, які можна налаштувати в конфігурації цього сніпета. Перша <code>$num_post</code> визначає кількість статей, що відображаються, які відображає цей сніпет. По-друге, <code>$num_chars</code> визначає кількість символів, які відображаються в кожній статті і, нарешті, <code>$DefaultAvatar</code> дозволяє встановити аватар за умовчанням для користувачів, які не встановили аватар. >
<h2 class="page-header">3.3.2 LoginBB</h2>
<p>Є два параметри, які можна змінити. Як змінна <code>$phpBB_folder</code> у першому розділі міститься ім'я головної папки форуму. Якщо це, відповідно до рекомендацій, папка «forum», залиште значення змінної як є</p>
<p>Для налаштування рангів користувачів прокрутіть вниз до <code>switch ($phpBB_rank)</code>. Тут перераховані візуальні відображення рангів, а цифри використовуються для ідентифікації рангів PhpBB. Більшість з цього очевидна, однак, буде стаття про MODxBB.net, яка докладно пояснить роботу системи рангів і груп у phpBB і MODxBB.</p>
<h2 class="page-header">3.3.3 OnlineListBB</h2>
<p>Цей сніпет також має параметр <code>$phpBB_folder</code> у першому абзаці, який має бути змінений у разі, якщо папка вашого форуму не називається «forum»</p>
<p>Якщо ви НЕ використовуєте сніпет SitePollBB на тій же сторінці, розкоментуйте, будь ласка, другий абзац (видалив / * і * / ).</p>
<p>OnlineListBB використовує JQuery, щоб дізнатися, що це таке і як воно працює, читайте документацію JQuery. Нехай вас це не лякає, насправді потрібно додати лише один рядок, щоб підключити JQuery, який виглядає так:</p>
<pre class="brush: html;">&lt;script type="text/javascript" src="js/jquery-1.5.min.js"&gt;&lt;/script&gt;</pre>
<p>Це передбачає, що ви завантажили сценарій JQuery і скопіювали його в папку "js". Майте на увазі, що вам, можливо, не потрібно цього робити, якщо ви вже маєте підключену бібліотеку JQuery. Ви також можете встановити режим сумісності, якщо ви використовуєте бібліотеку MooTools, наприклад.</p>
<h2 class="page-header">3.3.4 PrevPollsBB</h2>
<p>Цей сніпет відображає історію опитувань. Він може бути використаний як історія для опитувань, які були показані SitePollBB або окремо</p>
<p>Якщо папка вашого форуму відрізняється від стандартної папки, ви повинні налаштувати її і тут. У першому абзаці знайдіть <code>$phpbb_root_path</code> та замініть "forum" на ім'я папки вашого форуму. Наприклад, якщо ваша папка називається 'board', замініть './forum/' на './board/' </p>
<p>Існують п'ять змінних, які встановлюються у розділі конфігурації (другий абзац). <code>$forum_ids</code> ідентифікатори форумів, з яких необхідно брати опитування, вказуються через кому.</p>
<p><code>$num_posts</code> визначає максимальну кількість опитувань, що відображаються.</p>
<p><code>$per_page</code> кількість опитувань на одній сторінці. Якщо $per_page буде менше $num_posts, то сніппет відобразить пагінацію для переходу між опитуваннями.</p>
<p><code>$page_start</code> стартова сторінка під час пагінації. Де <code>request_var</code> є функція PhpBB, яка дозволяє безпечно перейти до значення запиту. Рекомендується залишити цей параметр без змін.</p>
<h2 class="page-header">3.3.5 SitePollBB</h2>
<p>Конфигурация этого сниппета находится в файле poll.php , расположенном в папке modxbb, поставляется с пакетом MODxBB.</p>
<h2 class="page-header">3.4 Налаштування документів MODxBB</h2>
<h2 class="page-header">3.4.1 poll.php</h2>
<p>Це основний двигун для сніпету SitePollBB. Він містить дві змінні для його налаштування</p>
<p>Змініть значення <code>$prevpollID</code> у рядку 20, вказавши ID вашої MODX сторінки, яка містить сніпет PrevPollsBB, підключений до сніпета SitePollBB. Пояснення: Є посилання "Попередні опитування" у сніпеті SitePollBB, яке визначається тут.</p>
<p>У рядку 54 встановлюються форум(и), звідки беруться опитування для розміщення на сторінці MODX, яка містить SitePollBB. Ви можете вибрати один або декілька</p>
<p>Наприклад, якщо ви хочете відобразити останні опитування форумів з ID 12 та 13, необхідно змінити рядок таким чином: <code>$CFG['poll_forum'] = array(12,13);</code></p>
<p>У рядках 57-59 налаштовується відображення BBCode, смайликів та URL-адрес.</p>
<h2 class="page-header">3.4.2 edit.php</h2>
<p>MODxBB підтримує додаткові поля PhpBB. Ви можете зробити так (але не обов'язково), щоб вони відображалися у профілі веб-користувачів MODX</p>
<p>Для цього вам потрібно налаштувати edit.php та signup.php обидва розташовані в папці modxbb. Приклад із "fullname" вже включений туди. Якщо ви створюєте профіль користувача в PhpBB з ідентифікацією по "fullname", ви автоматично отримаєте значення для цього поля з профілю веб-користувачів MODX "Fullname". Щоб створити додаткове поле, зайдіть в АСР, на закладці "Користувачі та групи" натисніть "Додаткові поля у профілі" у розділі Користувачі</p>
<p>Цей файл керує змінами, які зроблені в PhpBB і передає їх у MODX, отже, додаткові поля необхідно ввести окремо, якщо ви хочете, щоб вони відобразились у профілі MODX. У рядках 38-47 показано, як це працює. Префікс <code>pf_</code> завжди додається, решта (тут «fullname») поле ідентифікації користувача профілю</p>
<p>Детальний посібник про те, як створювати та керувати додатковими полями, в тому числі, як змінити профілі веб-користувачів у MODX буде пізніше опубліковано у блозі MODxBB.net.</p>
<h2 class="page-header">3.4.3 signup.php</h2>
<p>Другий файл, який потрібно змінити, якщо ви хочете додати додаткові поля в MODX і PhpBB є signup.php</p>
<p>Рядок 26 містить приклад для «fullname»:</p>
<pre class="brush: php;">$fields["fullname"] = $cp_data['pf_fullname'];</pre>
<p>в цьому рядку параметру <code>pf_fullname</code> надається значення параметра fullname з таблиці MODX. Ви також можете призначити це значення будь-якому іншому параметру.</p>
<p>У рядку 28 значення поля fone таблиці site_web_user_attributes присвоюється значення поля user_id таблиці phpbb_users. Я вибрав цей шлях для простоти. Можна, звичайно, створити поле phpBB_ID у базі даних MODX або використовувати будь-яку іншу область. Це використовується для зв'язку профілів PhpBB та MODX, таким чином, якщо ви використовуєте інше поле, відмінне від поля за замовчуванням, потрібно налаштувати плагін PluginBB (просто знайти "phone" та замінити на потрібне поле).</p>
<p>У рядку 29 замініть <code>forum/download/file.php?avatar=g2_1266363854.png</code> URL для аватара за замовчуванням (для користувачів, у яких немає аватара).</p>
<p>Якщо ви не хочете, щоб новим користувачам надсилалося повідомлення з привітанням, поставте на початку рядка 33 дві риси //</p>
<h2 class="page-header">3.4.4 welcome.php</h2>
<p>Цей файл містить текст повідомлення, яке надсилається користувачам відразу після реєстрації.</p>
<p>Як показано в рядку 25, ви можете використовувати <code>$BridgeUser</code> як шаблон для одержувача. Теоретично можна використовувати будь-які інші параметри, що належать користувачеві, значення яких зберігається в MODX або PhpBB. Смайли та BBcode також підтримуються</p>
<p>У рядку 45 <code>$fields["phone"]</code> вказується ідентифікатор користувача PhpBB. Якщо, як описано в попередньому розділі, ви вибрали інше поле, вкажіть його замість "phone"</p>
<p>Інше має бути зрозумілим.</p>
<h2 class="page-header">3.4.5 login.php</h2>
<p>Переконайтеся, що ви використовуєте однакові параметри кодування для поля username обох систем (MODX і PhpBB). Рекомендується кодування <code>utf8_unicode_ci</code>, проте, якщо ви вирішите використовувати інше кодування, його необхідно змінити в рядку 88. Просто замініть "utf8_unicode_ci" у цьому рядку назвою кодування.</p>
<h2 class="page-header">4. Загальні поради та примітки</h2>
<h2 class="page-header">4.1 Використання CSS для налаштування виведення сніпетів</h2>
<p>Всі елементи MODxBB підтримують CSS і таким чином дозволяють налаштовувати висновок. Рекомендується використовувати CSS-скидання, щоб налаштувати однакове відображення у всіх браузерах (це також загальні рекомендації CSS, а не тільки MODxBB).</p>
<p>На сторінці CSS селектори перераховані всі селектори, які знаходяться в файлі css. Ці значення ідентичні тим, що використовуються на MODxBB.net.</p>
<h2 class="page-header">4.2 Цілком можливо мати окремий аватар для блогу</h2>
<p>Можливо використовувати окремі аватари для блогів (відмінних від аватарів на форумі). Те саме стосується будь-яких інших даних профілю. Оскільки зміни, які вносяться до PhpBB в "Панелі управління", будуть відправлені в MODX, але не навпаки.</p>
<p><span style="color: #ff0000;"><span class="text-bold">ВАЖЛИВО:</span></span> Якщо вручну внести зміни до адміністративної панелі керування АСР (наприклад, ім'я користувача) , це має бути зроблено вручну і MODX, так як це ще не автоматизовано в цій версії.</p>
<h2 class="page-header">4.3 MODxBB дозволяє настроювати зміст</h2>
<p>Ви можете налаштувати індивідуальний зміст для кожного користувача відповідно до його рівня чи звання, або за іншими критеріями. Це стосується і властивостей у профілі.</p>
<p><span class="text-bold">Приклади: </span></p>
<p>- Можна створювати контент, який видно лише зареєстрованим користувачам.</p>
<p>- Ви можете написати оголошення, яке буде показане лише користувачам з 1000 або більше повідомленнями або зі спеціальним званням "Premium User" (спеціальні звання можуть бути створені в PhpBB ACP).</p>
<p>- Повідомлення користувачам, які святкують свій день народження з особливим змістом (наприклад, банер з вітанням).</p>
<p>Докладний опис та приклади на цю тему будуть розміщені в блозі MODxBB.net пізніше.</p>
<h2 class="page-header">4.4 Система автентифікації</h2>
<p>Деякі читачі можуть запитати, чому просто не використовувати тільки систему аутентифікації PhpBB, раз PhpBB інтегровано таким чином на сторінки MODX. Це дійсно можливо, але якщо ви опустите автентифікацію в MODX, облікові записи користувачів на сайті MODX будуть повністю непридатними для деяких додатків MODX. Це також включає ролі та права створені в менеджері MODX</p>
<p>Якщо вам це не проблема, і ви знайомі з PHP, вам ні що не заважає це використовувати. Все, що вам потрібно, це відключення оновлення параметрів MODX</p>
<p>Я напишу підручник з цієї теми, якщо на нього буде попит.</p>
<h2 class="page-header">4.5 PluginBB</h2>
<p>Це лише корисний інструмент, який може стати в нагоді в деяких випадках. Ви можете відкрити у вікні адміністративної панелі MODX профіль phpBB. Якщо ви віддаєте перевагу відкриттю у повному вікні, просто відкрийте його в новій вкладці.</p>
<h2 class="page-header">4.6 Журнали MODxBB</h2>
<p>MODxBB генерує журнали, які можна прочитати в адміністративній панелі MODX (Звіти -&gt; Перегляд подій). Вони нададуть, як передбачається, допомогу у пошуку потенційних проблем та спроб злому. Найважливіша інформація показується без детального перегляду. Це економить час та підвищує читабельність. Помилки входу в систему відображаються як "Тип помилки - IP - Ім'я користувача", де P - введено неправильний пароль, а U - неправильне ім'я користувача.</p>
<h2 class="page-header">4.7 Захист від спаму</h2>
<p>Ця тема безпосередньо не пов'язана з MODxBB і PhpBB. Будь-який працюючий форум, швидше за все, зіткнеться із проблемою спаму. Зокрема, від початку цього року спостерігається збільшення спам-атак</p>
<p>Існують різні способи захисту форуму від спаму. Я спочатку планував розповісти про деякі з них тут, але phpBB.com вже є корисні статті про це. Таким чином, я просто додам посилання на ці статті:</p>
<p><a rel="nofollow" href="http://www.phpbb.com/community/viewtopic.php?f=46&amp;t=2122696">Preventing Spam in phpBB3</a> - Більшість з цих методи також застосовні і для інших платформ.</p>
<p><a rel="nofollow" href="http://www.phpbb.com/community/viewtopic.php?f=46&amp;t=2122697">Spam Discussion</a> - Додаткові поради.</p> >
<h2 class="page-header">4.8 Використання Web2Manager при реєстрації веб-користувачів</h2>
<p>Коли користувач реєструється, MODxBB створює відповідний обліковий запис веб-користувача MODX. Web2Manager дуже корисний плагін для керування веб-користувачами. Він також дозволяє створити обліковий запис веб-користувача з наявного облікового запису користувача MODX. Існуючі облікові записи будуть оновлені</p>
<p>Останню версію можна завантажити тут: <a rel="nofollow" href="http://www.modxbb.net/assets/files/web2manager-0.3.3.zip" target="_blank">Web2Manager-0.3 .3.zip</a></p>
<h2 class="page-header">5. Відомі проблеми</h2>
<h2 class="page-header"><em>5.1. Подвійне голосування</em></h2>
<p><em>У дуже поодиноких випадках оновлення сторінки з опитуванням може дати можливість проголосувати 2 рази. </em>Це відбувається лише тоді, коли гості мають право голосу та гості можуть змінити свій вибір і може бути вибрано кілька варіантів відповіді. Це дуже малоймовірно, але не неможливо.</p>
<p>Обхідний шлях: Просто видаліть додаткові опції.</p>
<h2 class="page-header">5.2 Вихід з LoginBB</h2>
<p>Вихід із системи у сніпеті LoginBB перенаправляє на індексну сторінку форуму замість повернення на ту саму сторінку, на відміну від входу до облікового запису, коли користувач повертається на ту саму сторінку.</p>
<p><span class="text-bold">Примітка:</span> Це не помилка. Щоб повернути користувача на ту саму сторінку, яку він відвідав, перш ніж вийти з системи, довелося б змінити файл ядра, в той час як користувачеві в більшості випадків байдуже, куди він буде перенаправлений.</p>
<p>Рішення: щоб повернути користувача туди, де він знаходився при виході з системи, ви повинні внести зміни до функції PhpBB meta_refresh.</p>
<h2 class="page-header">5.3 Теги MODX</h2>
<p>Спеціальні теги MODX ([~ID~]) не працюють на сторінках PhpBB. Це може бути виправлено в одній із майбутніх версій</p>
