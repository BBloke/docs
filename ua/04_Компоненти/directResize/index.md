<h1>DirectResize 0.8.3</h1>
<h2>Опис</h2>
<h3>Одним реченням</h3>
<p>Це як Maxigallery, тільки для окремих зображень.</p>
<h3>Докладніше</h3>
<p>Повністю настроюється плагін для створення зменшених копій зображень (попередніх переглядів) і має ряд функцій, таких як: автоматичне створення попередніх переглядів заданого розміру, накладення водяних знаків, відкриття збільшеного зображення за допомогою AJAX (lightbox, slimbox, highslide ...), абсолютно настроюється шаблон для html-виведення, створення попередніх переглядів для WYSIWYG-редактора і т.д.</p>
<h3>Функції</h3>
<ul>
	<li>Можливість інтеграції будь-яких візуальних ява-скриптових модів: Slidebox, Lightbox v2.0, Slimbox,  Highslide і т.д.</li>
	<li>Водяні знаки (текст або прозоре png-зображення)</li>
	<li>Налаштування плагіна через config-файл з великою кількістю параметрів</li>
	<li>Повністю настроюється html-висновок</li>
	<li>Можливість застосування плагіна для зображень з віддалених серверів</li>
	<li>Попередній перегляд WYSIWYG-редактора (тестувалося на TinyMCE)</li>
	<li>Створення попереднього перегляду строго заданого розміру з обрізанням при дотриманні пропорцій зображення</li>
	<li>Нові зображення генеруються тільки в разі потреби, в інших випадках йде завантаження з кеша</li>
	<li>Підтримка форматів JPG і PNG (GIF формат не підтримує)</li>
</ul>
<h3>Як це працює</h3>
<p>В першу чергу плагін призначений для використання спільно з WYSIWYG-редактором і спочатку цільовою аудиторією користувачів плагіна є клієнти, які не мають знань в веб-розробках і html, але яким необхідно використовувати в тексті зображення з попереднім переглядом. Пояснити такій людині, що в графічному редакторі спочатку необхідно створити зменшену копію потрібного зображення, потім через редактор вставити її в документ, а після зробити гіперпосилання на збільшене зображення, було б досить непросто.</p>
<p>Тому дії були спрощені до мінімальних - велике зображення вставляється в текст, потім для нього задаються розміри, які повинен мати попередній перегляд. Після цього плагін, у відповідності зі своїми настройками, автоматично створить попередній перегляд і необхідні гіперпосилання. </p>
<p>Крім того, при відкритті документа, що містить такі зображення, в WYSIWYG-редакторі, замість великих зображень, просто стислих в розмірах, будуть так само відображатися їх попередні перегляди зі спеціальним водяним знаком. Цей водяний знак умовно говорить про те, що це зображення не просто маленька картинка, а посилання на своє збільшене зображення і дозволяє відрізняти такі зображення від дійсно маленьких картинок, які так само можуть бути присутніми в документі.</p>
<p>Ці попереді перегляди можна змінювати в розмірах, при наступному виклику будуть створені нові попередні перегляди в відповідності з новими розмірами.</p>
<p>Звичайно, можна використовувати плагін і без візуального редактора, просто вставляючи зображення у вигляді html-коду або TV-параметрів.</p>
<h2>Встановлення</h2>
<ul>
	<li>Розпакуйте архів і скопіюйте папку assets з архіву в кореневу папку вашого сайту, всі файли скопійовано в призначені їм місця</li>
	<li>Виставіть права на запис на папку <em>assets/drgalleries/</em></li>
	<li>Створити новий плагін DirecrResize і скопіювати в нього вміст файлу <em>directResize.plugin.txt</em></li>
	<li>Відкрити закладку &quot;Конфігурація&quot; в вікні створення плагіна і в полі &quot;Конфігурація плагіна&quot; вставити <br />

	<textarea readonly="readonly" cols="80" rows="2" name="config">&amp;config=Конфігурація;string;highslide &amp;clearCache=Очистка кешу;list;0,1,2;0</textarea>
	</li>
	<li>Відкрити закладку &quot;Системні події&quot; і виставити галочки на події <em>OnWebPagePrerender</em>, <em>OnCacheUpdate, OnBeforeDocFormSave</em>, <em>OnDocFormPrerender</em></li>
	<li>Зберегти плагін</li>
</ul>
<h2>Конфігурація плагіна</h2>
<p>На сторінці редагування плагіна у вкладці &quot;Конфігурація&quot; можливий вибір двох параметрів конфігурації плагіна. Параметр<em> &quot;Конфігурація&quot;</em> це назва використовуваної конфігурації, файл з таким же ім'ям і суфіксом <em>.config.php</em> повинен лежати в папці <em>configs</em> плагіна. Наявність цього параметра і відповідного файлу обов'язково, в ньому вказуються всі параметри з управління плагіном.</p>
<p><em>&quot;Очистка кешу&quot;</em> - параметр, керуючий режимом очищення кеша плагіна. У кеші зберігаються згенеровані попередні перегляди з накладеними (при необхідності) водяними знаками і згенеровані (при необхідності) великі зображення. Очищення кеша плагіна відбувається при очищенні системного кеша MODx. </p>
<ul>
	<li>0 - очистка кешу плагіна відключена</li>
	<li>1 - кеш плагіна очищається тільки для редагованого документа при його збереженні</li>
	<li>2 - кеш плагіна очищається для всіх документів (видаляються всі згенеровані зображення).</li>
</ul>
<p>Оновлення кеша потрібно в рідкісних випадках. Наприклад, коли потрібно видалити файли зображень, посилання на які в документах вже не існують. Або при зміні зображення водяного знака. Нові зображення генеруються тільки в разі зміни їх розмірів. Тому нові водяні знаки не будуть нанесені, тому що розміри зображень залишилися колишніми. В цьому випадку потрібно оновити кеш, щоб видалити зображення і згенерувати їх заново.</p>
<p>В інших випадках плагін самостійно генерує нові зображення без необхідності оновлення кеша. Так що в більшості випадків параметр оновлення кеша варто тримати в значенні 0.</p>
<h2>Стандартні пакети конфігурацій</h2>
<p>Плагін вже має набір з декількох стандартних конфігурацій, які дозволяють відразу використовувати плагін з ефектами slimbox, slidebox, lightbox, highslide на сайті без будь-яких налаштувань. Для того щоб підключити одну з конфігурацій, необхідно в закладці конфігурації плагіна вказати назву конфігурації в поле <em>&quot;Конфігурація&quot;</em>. Можливі варіанти:</p>
<ul>
	<li>slimbox</li>
	<li>slidebox</li>
	<li>lightboxv2</li>
	<li>highslide</li>
</ul>
<p>Додаткові налаштування проводяться в файлах з відповідними іменами в папці assets\plugins\directresize\configs. Обов'язково налаштуванні список папок, в яких дозволено обробляти зображення плагіном. За замовчуванням використовується папка assets/images.</p>
<p>Плагін використовує ті ж самі ява-скріптові бібліотеки, що і Maxigallery, але зі своєї папки, тому якщо ви використовуєте Maxigallery на своєму сайті з тим же ефектом відкривання зображень, що і DirectResize, використовуйте параметр <strong>$maxigallery_jscss_packs</strong>, щоб уникнути повторного підключення бібліотек.</p>
<h2>Швидкий старт</h2>
<ol>
	<li>Встановити плагін, переконатися що в папці assets є підпапка drgalleries з встановленими правами на запис.</li>
	<li>В налаштуваннях конфігурації плагіна прописати один з ваших улюблених стандартних пакетів конфігурації - slimbox, slidebox, lightboxv2, highslide</li>
	<li>Переконатися, що вихідні файли зображень розташовані в папці assets / images або в її підпапках</li>
	<li>Для того щоб в документі створювалися попередні перегляди і відкривалися зображення з обраним в ефектом, <strong> обов'язково вказувати width і / або height для тегів img такими, якого розміру потрібно створити попередній </ strong>. Наприклад для зображення <code>&lt;img src=&quot;assets/images/image.jpg&quot; width=&quot;120&quot; height=&quot;60&quot; /&gt;</code> буде згенеровано попередній перегляд  розміру 120х60. Звичайно, оригінальне зображення image.jpg повинне перевищувати розміри 120х60 (інакше немає сенсу створювати попередній).</li>
</ol>
<h2>Параметри</h2>
<p>Параметри для використання в файлі <em> імя_конфігурації</em>.<em>config.php</em>. Приклад такого файлу можна знайти в папці <em>configs</em> плагіна.</p>
<table width="100%" border="0" cellpadding="0" cellspacing="1">
	<tr>
		<td width="20%" class="theader">параметр</td>
		<td width="15%" class="theader">можливі значення</td>
		<td width="15%" class="theader"> значення за заовчуванням</td>
		<td class="theader">опис, приклад</td>
	</tr>
	<tr>
		<td><strong>$lightbox_mode</strong></td>
		<td><ul>
				<li>1</li>
				<li>2</li>
			</ul></td>
		<td>1</td>
		<td><p>Режим створення великих зображень і lightbox-посилань</p>
			<ul>
				<li>1 - велике зображення і lightbox-посилання на нього створюються тільки при наявності мітки <span class = "label"> drlightbox </ span> у вихідного зображення (про мітки <a href="#label"> докладніше нижче</a>)</li>
				<li>2 - велике зображення і lightbox-посилання створюються завжди (при дотриманні інших умов)</li>
			</ul>
			<p>Незважаючи на значення параметра <strong>$lightbox_mode</strong>,  при дотриманні інших умов, завжди створюються для показу зображень із застосуванням всіх сконфігурованих для попереднього перегляду дій (накладення водяного знака, обрізка і т.п.)</p></td>
	</tr>
	<tr>
		<td><strong>$allow_from</strong></td>
		<td>&nbsp;</td>
		<td>&quot;assets/images&quot;</td>
		<td><p>Розділений комами список папок, в яких дозволено застосування плагіна, можливо вказівку віддалених ресурсів. Всі не зазначені в цьому параметрі шляхи заборонені. Шляхи вказуються як відносні від кореня сайту, або віддалені через http://</p>
			<p>Параметр не враховується в разі <strong>$lightbox_mode</strong> = 1</p></td>
	</tr>
	<tr>
		<td><strong>$deny_from</strong></td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td><p>Розділений комами список папок, в яких заборонено застосування плагіна, можливо вказівку віддалених ресурсів. Всі не зазначені в цьому параметрі шляхи дозволені. Шляхи вказуються як відносні від кореня сайту, або віддалені через http: //. Ігнорується, якщо вказано параметр $allow_from.</p>
			<p>Параметр не враховується в разі <strong>$lightbox_mode</strong> = 1</p></td>
	</tr>
	<tr>
		<td><strong>$allow_from_allremote</strong></td>
		<td><ul>
			<li>0</li>
			<li>1</li>
		</ul>
		</td>
		<td>0</td>
		<td>Дає змогу дозволити використання плагіна для всіх зображень з віддалених джерел, без необхідності перераховувати їх в параметрі <strong>$allow_from</strong></td>
	</tr>
	<tr>
		<td><strong>$resize_method</strong></td>
		<td><ul>
				<li>0</li>
				<li>1</li>
				<li>2</li>
				<li>3</li>
			</ul></td>
		<td>3</td>
		<td><p>Метод зміни розміру зображення. Застосовується при генерації попереднього перегляду. У всіх випадках пропорції зображення зберігаються. Тут imgWidth і imgHeight - задані розміри в оригінальному документі.</p>
			<ul>
				<li>0 - зображення спочатку зменшується, потім обрізається так, щоб вписатися в прямокутник imgWidth х imgHeight</li>
				<li> 1 - по заданій ширині imgHeight автоматично обчислюється висота зображення</li>
				<li> 2 - по заданій висоті imgWidth автоматично обчислюється ширина зображення</li>
				<li> 3 - зображення зменшується таким чином щоб не перевищувати задані imgWidth і imgHeight</li>
			</ul></td>
	</tr>
	<tr>
		<td><strong>$big_quality</strong></td>
		<td>цілочисельне значення 1-100</td>
		<td>80</td>
		<td>JPG-якість великого зображення</td>
	</tr>
	<tr>
		<td><strong>$thumb_quality</strong></td>
		<td>цілочисельне значення 1-100</td>
		<td>80</td>
		<td>JPG-якість переднього перегляду</td>
	</tr>
	<tr>
		<td><strong>$wysiwyg_quality</strong></td>
		<td>цілочисельне значення 1-100</td>
		<td>40</td>
		<td>JPG-якість переднього перегляду в візуальному редакторі</td>
	</tr>
	<tr>
		<td><p><strong>$big_width</strong></p></td>
		<td>позитивне  цілочисельне значення</td>
		<td>800</td>
		<td rowspan="2">Якщо розмір оригінального зображення перевищує задані розміри <strong> $ big_width </ strong> або <strong> $ big_height </ strong>, генерується пропорційно зменшене від оригінального зображення (в термінології плагіна - велике зображення) розміром, що не перевищуює <strong>$big_width</strong> і <strong>$big_height</strong></td>
	</tr>
	<tr>
		<td><strong>$big_height</strong></td>
		<td>позитивне  цілочисельне значення</td>
		<td>600</td>
	</tr>
	<tr>
		<td><strong>$thumb_default_width</strong></td>
		<td>позитивне  цілочисельне значення</td>
		<td>&nbsp;</td>
		<td>Ширина попереднього перегляду за замовчуванням</td>
	</tr>
	<tr>
		<td><strong>$thumb_default_height</strong></td>
		<td>позитивне  цілочисельне значення</td>
		<td>&nbsp;</td>
		<td>Висота попереднього перегляду за замовчуванням</td>
	</tr>
	<tr>
		<td><strong>$thumb_default_sizemode</strong></td>
		<td><ul>
				<li>0</li>
				<li>1</li>
				<li>2</li>
				<li>3</li>
				<li>4</li>
			</ul></td>
		<td>1</td>
		<td><p>Правило для застосування ширини і висоти попереднього прегляду за замовчуванням.</p>
			<ul>
				<li>0 - ширина и висота за замовчуванням не використовуються</li>
				<li>1 -  ширина и висота попереднього прегляду встановлюються рівними ширині і висоті за замовчуванням (<strong>$thumb_default_width</strong> і <strong>$thumb_default_height</strong>), якщо у вихідного зображення не задано ні висоти, ні ширини</li>
				<li>2 - ширина преднього поперегляду встановлюються рівними ширині і висоті, якщо не задана ширина вихідного зображення</li>
				<li>3 - висота попереднього поперегляду встановлюються рівній висоті за замовчуванням, якщо не задана висота вихідного зображення</li>
				<li>4 -  ширина и высота попереднього прегляду примусово встановлюються рівними ширині і висоті за замовчуванням незалежно від того, задані вони в оригінальному документі чи ні</li>
			</ul>
			<p>Варто зауважити, що не дивлячись на параметри <strong>$thumb_default_width</strong>, <strong>$thumb_default_height</strong> і <strong>$thumb_default_sizemode, </strong> остаточні розміри згенерованого попереднього прегляду будуть обчислюватися в залежності від <strong>$resize_method</strong></p>
		<p>При використанні примусового режиму (4) спільно з візуальним редактором веде до того, вихідні width і height для кожного зображення в тексті документа будуть замінені на <strong>$thumb_default_width</strong> і <strong>$thumb_default_height</strong> з втратою попередніх значень (якщо вони були) при збереженні документа. Це необхідно для коректного відображення попередніх переглядів в візуальному режимі.</p></td>
	</tr>
	<tr>
		<td><strong>$remote_refresh_time</strong></td>
		<td>позитивне цілочисельне значення</td>
		<td>60</td>
		<td>Час в хвилинах. Періодичність, з якою перевіряються зображення на віддалених серверах. Якщо зображення на віддаленому сервері змінилося (перевірка робиться тільки на зміни по висоті або ширині), робиться його нова локальна копія і перегенеруются його зменшені копії.</td>
	</tr>
	<tr>
		<td><strong>$tpl</strong></td>
		<td><ul>
				<li>Ім'я чанка</li>
				<li>@FILE:&lt;шлях до файлу&gt; </li>
				<li>@CODE:&lt;HTML код шаблона&gt; </li>
			</ul></td>
		<td>assets/plugins/ directresize/templates/ lightboxv2.html</td>
		<td>Шаблон для відображення</td>
	</tr>
	<tr>
		<td><strong>$language</strong></td>
		<td><ul>
				<li>english</li>
				<li>russian</li>
			</ul></td>
		<td>english</td>
		<td>Встановлює мову для плагіна. Відповідний мовний файл повинен лежати в папці lang плагіна.</td>
	</tr>
	<tr>
		<td><strong>$header</strong></td>
		<td>HTML-код</td>
		<td>&nbsp;</td>
		<td>HTML-код, розміщується в тезі &lt;head&gt;. Використовується для підключення необхідних css і js файлів. Підключається тільки на тих сторінках, на яких є хоча б одне зображення, яке обробляється плагіном.</td>
	</tr>
	<tr>
		<td><strong>$maxigallery_jscss_packs</strong></td>
		<td><ul>
				<li>slimbox</li>
				<li>slidebox</li>
				<li>lightboxv2</li>
			</ul></td>
		<td>&nbsp;</td>
		<td><p>Підключає до сторінки необхідні css і js файли для відповідного скрипта з папки сніпета MaxiGallery (сніпет не обов'язково повинен бути встановлений, але його файли повинні знаходиться на FTP-сервері в assets/snippets/maxigallery)</p>
			<p>Зручно, якщо на сайті спільно з плагіном використовується і Maxigallery. Якщо будь-які js або css файли вже підключаються викликом MaxiGallery, DirectResize повторно не підключає ці файли в секції &lt;head&gt;.</p></td>
	</tr>
</table>
<p>Далі йдуть параметри, повністю запозичені з Maxigallery, що мають такі ж можливі значення і оброблювані таким же чином.</p>
<table width="100%" border="0" cellpadding="0" cellspacing="1">
	<tr>
		<td width="20%" class="theader">параметр</td>
		<td width="15%" class="theader">можливі значения</td>
		<td width="15%" class="theader"> значення за замовчуванням</td>
		<td class="theader">опис</td>
	</tr>
	<tr>
		<td><strong>$use_ftp_commands</strong></td>
		<td><ul>
				<li>0</li>
				<li>1</li>
			</ul></td>
		<td>0</td>
		<td>Якщо включено, плагін використовує PHP FTP комманди для створення папок для зберігання генерованих зображень.</td>
	</tr>
	<tr>
		<td><strong>$ftp_server</strong></td>
		<td>FTP address</td>
		<td>&nbsp;</td>
		<td>FTP адреса сервера</td>
	</tr>
	<tr>
		<td><strong>$ftp_user</strong></td>
		<td>username </td>
		<td>&nbsp;</td>
		<td>ім'я користувача FTP</td>
	</tr>
	<tr>
		<td><strong>$ftp_pass</strong></td>
		<td>password </td>
		<td>&nbsp;</td>
		<td>пароль на FTP </td>
	</tr>
	<tr>
		<td><strong>$ftp_base_dir</strong></td>
		<td>шлях </td>
		<td>&nbsp;</td>
		<td>Шлях від кореня FTP до кореня сайту на MODx. Тобто якщо коренем FTP є папка <em>/home/username/</em> і MODx встановлений в <em>/home/username/public_html/modx/</em> то використовуйте значення <em>/public_html/modx/</em> в параметрі ftp_base_dir.</td>
	</tr>
	<tr>
		<td><strong>$ftp_port</strong></td>
		<td>число </td>
		<td>21</td>
		<td>Номер порта  FTP</td>
	</tr>
	<tr>
		<td><strong>$thumb_use_watermark </strong>
			<p>&nbsp;</p></td>
		<td><ul>
				<li>0 </li>
				<li>1 </li>
			</ul></td>
		<td><p>0 </p></td>
		<td>Використовувати водяні знаки для попередніх переглядів</td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_font</strong></td>
		<td><ul>
				<li>1 </li>
				<li>2 </li>
				<li>3 </li>
				<li>4 </li>
				<li>5 </li>
			</ul></td>
		<td>1 </td>
		<td>Размір шрифта  водяного знака</td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_halign </strong></td>
		<td><ul>
				<li>left </li>
				<li>center </li>
				<li>right </li>
			</ul></td>
		<td>right </td>
		<td>Вирівнювання водяного знака по горизонталі</td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_img </strong></td>
		<td>шлях </td>
		<td>assets/plugins/ directresize/ images/watermark.png</td>
		<td>Шлях до файлу зображення водяного знака. Використовуйте png-зображення з альфа-каналом. </td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_txt</strong></td>
		<td>текст </td>
		<td>Copyright &lt;YEAR&gt; </td>
		<td>Текст надпису водяного знака </td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_txt_color </strong></td>
		<td>RGB шістнадцятковий формат</td>
		<td>FFFFFF </td>
		<td>Колір тексту водяного знака</td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_txt_hmargin</strong></td>
		<td>число  (px) </td>
		<td>2 </td>
		<td>Відступ по горизонталі для тексту</td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_txt_vmargin </strong></td>
		<td>число (px) </td>
		<td>2 </td>
		<td>Відступ по вертикалі для тексту</td>
	</tr>
	<tr>
		<td><strong>$big_use_watermark </strong>
			<p>&nbsp;</p></td>
		<td><ul>
				<li>0 </li>
				<li>1 </li>
			</ul></td>
		<td><p>0 </p></td>
		<td>Використовувати водяні знаки для великих зображень</td>
	</tr>
	<tr>
		<td><strong>$big_watermark_font</strong></td>
		<td><ul>
				<li>1 </li>
				<li>2 </li>
				<li>3 </li>
				<li>4 </li>
				<li>5 </li>
			</ul></td>
		<td>1 </td>
		<td>Размір шрифта  водяного знака</td>
	</tr>
	<tr>
		<td><strong>$big_watermark_halign </strong></td>
		<td><ul>
				<li>left </li>
				<li>center </li>
				<li>right </li>
			</ul></td>
		<td>right </td>
		<td>Вирівнювання водяного знака по горизонталі</td>
	</tr>
	<tr>
		<td><strong>$big_watermark_img </strong></td>
		<td>путь </td>
		<td>assets/plugins/directresize/ images/watermark.png</td>
		<td>Шлях до файлу зображення водяного знака. Використовуйте png-зображення з альфа-каналом. </td>
	</tr>
	<tr>
		<td><strong>$big_watermark_txt</strong></td>
		<td>текст </td>
		<td>Copyright &lt;YEAR&gt; </td>
		<td>Текст надпису водяного знака </td>
	</tr>
	<tr>
		<td><strong>$big_watermark_txt_color </strong></td>
		<td>RGB шестнадцатиричный формат</td>
		<td>FFFFFF </td>
		<td>Колір тексту водяного знака</td>
	</tr>
	<tr>
		<td><strong>$big_watermark_txt_hmargin</strong></td>
		<td>число  (px) </td>
		<td>2 </td>
		<td>Відступ по горизонталі для тексту</td>
	</tr>
	<tr>
		<td><strong>$big_watermark_txt_vmargin </strong></td>
		<td>число (px) </td>
		<td>2 </td>
		<td>Відступ по вертикалі для тексту</td>
	</tr>
</table>
<h2>Підстановщики</h2>
<p>Підстановщики для використання в шаблоні <strong>$tpl</strong></p>
<table width="100%" border="0" cellpadding="0" cellspacing="1">
	<tr>
		<td width="20%" class="theader">підстановщик</td>
		<td width="80%" class="theader">опис</td>
	</tr>
	<tr>
		<td>[+dr.id+]</td>
		<td>цифровой ідентифікатор зображення, унікальний в рамках даного документа</td>
	</tr>
	<tr>
		<td>[+dr.alt+]<br />
		[+dr.title+]<br />
		[+dr.class+]<br />
		[+dr.style+]<br />
		[+dr.align+]<br />
		[+dr.valign+]</td>
		<td>атрибути <em>alt</em>, <em>title</em>, <em>class</em>, <em>style</em>, <em>align</em>, <em>valign</em> вихідного зображення</td>
	</tr>
	<tr>
		<td>[+dr.thumbWidth+]</td>
		<td>ширина згенерованого попереднього перегляду</td>
	</tr>
	<tr>
		<td>[+dr.thumbHeight+]</td>
		<td>висота згенерованого попереднього перегляду</td>
	</tr>
	<tr>
		<td>[+dr.thumbPath+]</td>
		<td>шлях до файлу згенерованого попереднього перегляду</td>
	</tr>
	<tr>
		<td>[+dr.thumbFilesize+]</td>
		<td> размір файлу згенерованого попереднього перегляду</td>
	</tr>
	<tr>
		<td>[+dr.bigWidth+]</td>
		<td>ширина згенерованого великого зображення (якщо велике зображення не генерувалося - ширина вихідного зображення)</td>
	</tr>
	<tr>
		<td>[+dr.bigHeight+]</td>
		<td>висота згенерованого великого зображення (якщо велике зображення не генерувалося - висота вихідного зображення)</td>
	</tr>
	<tr>
		<td>[+dr.bigPath+]</td>
		<td>шлях до файлу згенерованого великого зображення (якщо велике зображення не генерувалося - шлях до файлу вихідного зображення)</td>
	</tr>
	<tr>
		<td>[+dr.bigFilesize+]</td>
		<td> размір файлу згенерованого великого зображення (якщо велике зображення не генерувалося - розмір файлу вихідного зображення)</td>
	</tr>
	<tr>
		<td>[+dr.originalWidth+]</td>
		<td>ширина вихідного зображення</td>
	</tr>
	<tr>
		<td>[+dr.originalHeight+]</td>
		<td>высота вихідного зображення</td>
	</tr>
	<tr>
		<td>[+dr.originalPath+]</td>
		<td>шлях до файлу вихідного зображення</td>
	</tr>
	<tr>
		<td>[+dr.originalFilesize+]</td>
		<td> размір файлу вихідного зображення</td>
	</tr>
	<tr>
		<td>[+dr.originalFilename+]</td>
		<td>ім'я вихідного файлу</td>
	</tr>
</table>
<h2><a name="label" id="label"></a>Мітки</h2>
<p><em>Мітка</em>, в термінології даного плагіна - спеціальне слово (або частина слова), яке може зустрічатися всередині тега img в будь-якому місці:
       всередині атрибутів class, alt, title і т.п. і чи поза ними і є керуючим для деяких дій над даними зображенням (і тільки над ним).</p>
<p>Наприклад при значенні параметра <strong>$lightbox_mode</strong> = 1 попередній з lightbox-посиланням генерується тільки для зображень з міткою <span class="label">drlightbox</span>. Приклад зображень з міткою <span class="label">drlightbox</span></p>
<ul>
	<li><code>&lt;img src=&quot;image.jpg&quot; alt=&quot;<span class="label">drlightbox</span>&quot; /&gt;</code></li>
	<li><code>&lt;img src=&quot;image.jpg&quot; class = &quot;<span class="label">drlightbox</span>_align_left&quot; /&gt;</code> </li>
	<li><code>&lt;img src=&quot;image.jpg&quot; title = &quot;<span class="label">drlightbox</span> picture&quot; /&gt;</code></li>
	<li><code>&lt;img src=&quot;image.jpg&quot; style = &quot;background: url(<span class="label">drlightbox</span>_bg.gif);&quot; /&gt;</code></li>
	<li><code>&lt;img src=&quot;assets/images/my<span class="label">drlightbox</span>picture.jpg&quot; /&gt;</code></li>
	<li>и даже <code>&lt;img src=&quot;image.jpg&quot; <span class="label">drlightbox</span> /&gt;</code></li>
</ul>
<p>Не варто переживати через можливість виникнення помилок валідації коду в разі застосування мітки в недозволеному місці. У вихідному коді всі керуючі мітки видаляються. Тому уникайте використання назв службових міток в назвах файлів зображень - частина імені файлу буде просто видалена. <Strong> Увага: </ strong> не використовуйте мітки поза атрибутів (останній приклад), якщо ви використовуєте візуальний редактор, тому що в цьому випадку мітки будуть видалені самим редактором як помилковий html-код.</p>
<p>Mітка <span class="label">drthumbonly</span>. Має сенс тільки при значенні параметра <strong>$lightbox_mode</strong> = 2і вказує на те, щоб цьому зображенню примусово НЕ генерувалося велике зображення і lightbox-посилання, тільки попередній перегляд. </p>
<p>При значені параметра <strong>$lightbox_mode</strong> = 1 для всіх зображень без мітки <span class="label">drlightbox</span> і так генеруються переднім переглядом без lightbox-посилань, тому застосування <span class="label">drthumbonly</span> надлишково.</p>
<p>Mітка <span class="label">drskip</span>. Вказує плагіну повністю пропустити обробку зображення.</p>
<h2>В планах</h2>
<ul>
	<li>phpThumb клас для операцій над зображеннями.</li>
	<li>Можливість створення наборів різних конфігураційних параметрів для використання в різних документах одного сайту.</li>
</ul>
<h2>Історія версій</h2>
<h3>0.8.0b</h3>
<p>Перший реліз</p>
<h3>0.8.0</h3>
<p>* Помилка коли файли мають однакові імена, але з різних папок<br />
	* Помилка при використанні плагіна і Maxigallery в одному документі<br />
	*  Імена міток змінені на drlightbox і drthumbonly. Оскільки мітки видаляються з вихідного коду, назва мітки lightbox не дозволяла використовувати в шаблоні слово lightbox (наприклад rel=&quot;lightbox&quot;)<br />
	* Помилка &quot;Fatal  error: Call to undefined function: size() in  ...assets\plugins\directresize\directResize.php on line 141&quot;  яку викликав плагін, коли файл зображення, зазначений в оброблюваному плагіном тезі IMG не знайдений<br />
	* Не створюються lightbox-посилання при використанні lightbox_mode = 1 і мітки &quot;drlightbox&quot; <br />
	+ Нова мітка &quot;drskip&quot;, зображення з цією міткою не обробляються плагіном<br />
	* Помилка при використанні gif-зображень в документах<br />
	* Помилка з командами фтп<br />
	+ додані плейсхолдери для підстановки style, align, valign вихідного зображення<br />
	+ додана підтримка і коректна робота з абсолютними шляхами зображень<br />
+  Новий параметр $allow_from_allremote дає змогу дозволити використання плагіна для всіх зображень з віддалених джерел, без необхідності перераховувати їх в параметрі $allow_from<br />
* Highslide оновлений до версії0.3.6<br />
+ Додані стандартні пакети конфігурацій для slimbox, slidebox, lightbox v2</p>
<h3>0.8.0.1</h3>
<p>* Помилка при спільному використанні $thumb_default_sizemode = 4 и метки drthumbonly<br />
+ Додана секція &quot;Швидкий старт&quot; та інші невеликі зміни в документації</p>
<h3>0.8.0.2</h3>
<p>	* Помилка, не створювалися передні перегляди при використанні візуального режиму TinyMCE<br />
	* Помилка, коли пропадали мітки при використанні візуального режиму TinyMCE<br />
+ Видалення зайвих пробілів після видалення міток з вихідного коду (але тільки один пробіл видаляється до або після мітки)</p>
<p>&nbsp;</p>
<h2>Відомі проблеми</h2>
<p>На даний момент мені не знайомий простий спосіб перевірити наявність файлу на віддалений хост при використанні PHP & lt; 5.0. Тому якщо на сайті використовуються зображення з віддалених хостів і плагін буде намагатися обробити зображення за неіснуючим шляхом - це викличе помилку php.</p>
<h2>Подяки </h2>
<p>Даний плагін заснований на ідеї і розробки автора попередніх версій DirectResize - <em>Arnaud</em>. </p>
<p>В плагіні використовуються частини коду і частини документації з сніпета Maxigallery від <em>doze</em>.</p>
<p>Плагін використовує Chunkie class і PHx парсер від<em>bS</em></p>
<p>Плагін використовує Thumbnail and Watermark Class від <em>Emilio Rodriguez</em><br />
</p>
<p>Для прикладу використовується Highslide JS 
	скрипт від <em>Torstein Honsi</em></p>
<p>Дякую, друзі!</p>
<p><em>Metaller (<a href="mailto:metaller.ru@gmail.com">metaller.ru@gmail.com</a>)</em></p>
