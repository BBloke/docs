### Кількість рядів оброблених останнім запитом

integer getAffectedRows ([$conn])

**$conn** - з'єднання з базою

Повертає кількість рядів, які були оброблені останнім запитом INSERT, UPDATE, REPLACE або DELETE. Якщо останній запит був невдалим, то буде повернуто значення -1.

При використанні запиту UPDATE, MySQL не торкає колонки з тими значеннями, які не було оновлено. В результаті використовувана PHP-функція mysql_affected_rows () може повернути тільки кількість записів, які були змінені.

Запит REPLACE спочатку видаляє старі записи, а потім вставляє нові, в результаті чого метод повертає суму віддалених і доданих записів.

***

#### Приклад

	function deleteid($id) {  
		$modx->db->query("DELETE FROM my_table WHERE userid=".$id);  
		if($modx->db->getAffectedRows()) {  
			return true;  
		}  		
		return false;  		
	}