## Вступ ##

У шаблонах Evolution CMS використовуються різні теги, які служать для формування контенту. Теги дають простий, але ефективний спосіб включати в контент веб-сторінки різні дані.

**Види використовуваних тегів**

* [[snippet]]	- результат роботи кешувального сніпета.
* [!snippet!]	- те саме, але без кешування
* [(setting)] - будь-яке значення з налаштувань сайту. Найчастіше використовується щось на зразок [(site_name)].
* [\*resourceField\*] - ТВ-параметр або поле ресурсу
* [^timing^]	- час виконання скриптів
* [ ~ link ~ ] - посилання на ресурс
* {{chunk}} - чанк
* [+placeholder+]	- плейсхолдер


## Сніпети ##

Сніпети - це просто PHP-код, вихід якого відображається в місці розміщення тега сніпета. 

Щоб виконати сніпет, вставте його в документі, чанкі або шаблоні, де потрібно відобразити висновок результатів його роботи.


## Налаштування ##

У тегах налаштувань знаходяться параметри системи. Наприклад, [(site_name)] вставить ім'я сайту. Це часто використовується в заголовках сторінок.

Список налаштувань можна знайти в базі даних Evolution в таблиці PREFIX_system_settings, де PREFIX це префікс ваших таблиць.

**Список налаштувань:**

* [(allow_duplicate_alias)] - дозволені чи ні повторювані псевдоніми при використанні дружніх URL
* [(automatic_alias)] - чи генеруються псевдоніми документів на основі заголовків сторінок автоматично
* [(base_url)] або [(site_url)] - адреса сайту
* [(cache_default)] - документ 'кешувальний' за замовчуванням
* [(captcha_words)] - слова, які використовуються для налаштування Captcha
* [(custom_contenttype)] - розділений комами список типів вмісту, що обслуговується MODx
* [(default_template)] - ідентифікатор шаблону використовується за замовчуванням для нових документів
* [(editor_css_path)] - шлях до CSS-файлу використовується візуальним редактором
* [(emailsender)] - основна адресу електронної пошти на сайті
* [(emailsubject)] - тема листа підтвердження реєстрації веб-користувачів
* [(error_page)] - ідентифікатор сторінки помилки '404'
* [(etomite_charset)] або  [(modx_charset)] - кодування сайту
* [(fck_editor_autolang)] - вказує, чи встановлений FCKeditor для автоматичного визначення мови
* [(fck_editor_style)] - вказує стиль використаний в FCKeditor
* [(fck_editor_toolbar)] - вказує на призначену для користувача панель інструментів, додану в FCKeditor
* [(filemanager_path)] - коренева папка для доступу файлового менеджера MODx
* [(friendly_alias_urls)] - чи використовуються псевдоніми в дружніх URL
* [(friendly_urls)] - чи використовуються дружні URL
* [(friendly_url_prefix)] - префікс для дружніх URL
* [(friendly_url_suffix)] - суфікс для дружніх URL
* [(manager_language)] - мова системи управління
* [(manager_theme)] - шаблон системи управління
* [(number_of_logs)] - кількість записів протоколу на одній сторінці
* [(number_of_messages)] - кількість повідомлень на одній сторінці
* [(number_of_results)] - кількість елементів, що відображаються в списках і результатах пошуку
* [(publish_default)] - публікація нових ресурсів після створення за замовчуванням
* [(rb_base_dir)] - фізичний шлях до папки файлів
* [(rb_base_url)] - адреса (URL) папки файлів
* [(search_default)] - нові ресурси після створення доступні для пошуку за замовчуванням
* [(server_offset_time)] - поправка (кількість годин) між часом на місці вашого перебування та на місці знаходження сервера
* [(server_protocol)] - HTTP або HTTPS (SSL) з'єднання
* [(settings_version)] - версія системи
* [(signupemail_message)] - повідомлення, яке надсилатиметься менеджерам, коли створюється обліковий запис нового менеджера
* [(site_name)] - Назва сайту
* [(site_start)] - ідентифікатор стартової сторінки
* [(site_status)] - статус сайту online (1) або offline (0)
* [(site_unavailable_message)] - повідомлення, що виводиться в разі недоступності сайту (коли обраний статус 'Оффлайн') або в разі виникнення помилки. Це повідомлення виводиться тільки в тому випадку, коли не вибрана сторінка 'Сайт недоступний'
* [(site_unavailable_page)] - ідентифікатор ресурсу, який повинні будуть побачити відвідувачі, якщо спробують зайти на сайт, коли він недоступний
* [(strip_image_paths)] - використовуються абсолютні або відносні посилання для зображень, файлів, анімації і т.д.
* [(top_howmany)] - кількість кращих показників в звітах статистики
* [(track_visitors)] - реєструвати відвідування
* [(udperms_allowroot)] - дозволити користувачам створювати ресурси в кореневій папці
* [(unauthorized_page)] - ID ресурсу, який повинні будуть побачити відвідувачі, якщо спробують зайти на закриту сторінку (403 - доступ заборонений)
* [(upload_files)] -   розділений комами список розширень файлів, які можуть бути завантажені через файловий менеджер
* [(upload_maxsize)] - максимальний розмір файлів в байтах
* [(use_alias_path)] - використовуються вкладені URL
* [(use_captcha)] - використовувати код CAPTCHA при авторизації
* [(use_editor)] - використовувати HTML-редактор
* [(use_udperms)] - права доступу юзера
* [(webpwdreminder_message)] - повідомлення, яке надсилатиметься веб-користувачам, коли вони запитують нагадування пароля
* [(websignupemail_message)] -повідомлення, яке надсилатиметься веб-користувачам, коли створюється обліковий запис нового веб-користувача
* [(which_editor)] - використовуваний HTML-редактор

## Поля ресурсів ##

Теги ресурсів можуть відображати основні атрибути ресурсів, які знаходяться в базі даних в таблиці PREFIX_site_content.

Це найбільш часто використовувані теги ресурсу:

* [\*pagetitle\*] - назва документу
* [\*longtitle\*] - довга назва документа
* [\*introtext\*] - зведення документа
* [\*content\*] - зміст документа


## Змінні шаблону ##

ТВ-параметри - це потужний спосіб вставки блоків контенту, характерних для відображуваної сторінки.

ТВ-параметри можуть бути налаштовані для конкретного документа.

## Таймінг ##
В Evo є кілька тегів часу:

* [^qt^] - час на запити до бази даних
* [^q^] - запитів до бази даних
* [^p^] - час на роботу PHP скриптів
* [^t^] - загальний час на генерацію сторінки
* [^s^] - джерело вмісту (база або кеш)
* [^m^] - розмір кеша (опціонально)

## Посилання ##

Щоб вставити посилання на інший документ, просто помістіть номер ідентифікатора документа в тег посилання. Наприклад, [~ 123 ~] створить посилання на документ з ідентифікатором 123.

## Чанки ##
В шматках міститься простий текст, зазвичай HTML-код, який буде просто вставлений на сторінку.

Вони дуже зручні для зберігання загального вмісту. Наприклад, якщо футер містить номер телефону, а номер змінюється, вам потрібно внести зміни тільки в чанк, а не на кожну сторінку сайту.

## Плейсхолдери ##

Найбільш часто плейсхолдери потрібні для темізаціі виведення сніпета.

```
<div class="nl_summaryPost">
<h3><a href="[+id+]">[+title+]</a></h3>
<div>[+summary+]</div>
<p>[+link+]</p>
<div style="text-align:right;">by <strong>[+author+]</strong> on [+date+]</div>
</div>
```

Плейсхолдери можуть використовуватися де завгодно в будь-якому HTML-коді.

Хорошим прикладом цього є сніпет Persinalize. Він просто повертає ім'я веб-користувача в плейсхолдер.

Але ви можете помістити сніпет один раз в свій шаблон або документ, а потім помістити плейсхолдер в стільки місць, скільки захочете, наприклад, в привітанні у верхній частині сторінки і в розділі «вихід із системи».

## Комбінуйте! ##

Використовуючи комбінації фрагментів, ТВ-параметрів і чанків, ви можете зробити свій сайт досить гнучким! Наприклад, у вас може бути сніпет, результати роботи якого будуть залежати від переданих ТВ-параметрів, а зовнішній вигляд буде темізуватись чанками з плейсхолдерамі всередині.

Детальніше про всі види тегів і їх використання ви можете прочитати в документації розробника.
